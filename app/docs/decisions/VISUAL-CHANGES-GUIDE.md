# 界面变化对比指南

## 📱 采购员（Purchaser）界面变化

### 之前 ❌
```
侧边栏菜单:
├── 首页
├── 采购申请
├── RFQ管理
├── 注册审批  👈 标题不明确
├── 升级审批
├── 变更审批
├── 文件审批
└── 供应商管理
```

点击"注册审批"后：
```
页面标题: 注册审批  👈 混淆！让人以为是新的注册申请审批
页面内容:
- Shanghai Yirui Electronics Co., Ltd (状态: under_review)
- 其他已有供应商记录...
```

### 之后 ✅
```
侧边栏菜单:
├── 首页
├── 采购申请
├── RFQ管理
├── 供应商审批  👈 清晰明确！
├── 升级审批
├── 变更审批
├── 文件审批
└── 供应商管理
```

点击"供应商审批"后：
```
页面标题: 供应商审批  👈 清楚说明这是审批已有供应商
页面副标题: 审批已有供应商的状态变更和资质审核。
页面内容:
- Shanghai Yirui Electronics Co., Ltd (状态: under_review)  ✅ 正确！
- 其他已有供应商记录...
```

---

## 👨‍💼 质量经理（Quality Manager）界面变化

### 之前 ❌
```
侧边栏菜单:
├── 首页
├── 升级审批
├── 变更审批
├── 文件审批
└── 供应商管理
```
❌ 缺少注册审批菜单！无法访问新的注册申请审批功能

### 之后 ✅
```
侧边栏菜单:
├── 首页
├── 新注册审批  👈 新增！指向新的6步审批流程
├── 升级审批
├── 变更审批
├── 文件审批
└── 供应商管理
```

点击"新注册审批"后：
```
页面标题: New Registration Approvals（或中文：新注册审批）
页面内容:
- 温州奥海电气有限公司 (状态: pending_quality_manager)  ✅ 正确！
- 其他注册申请记录...
```
❌ 不会看到 Shanghai Yirui Electronics（它在旧系统中）

---

## 👨‍💼 采购经理（Procurement Manager）界面变化

### 之前 ❌
```
侧边栏菜单:
├── 首页
├── 采购申请
├── 采购组管理
├── 标签管理
├── RFQ管理
├── 注册审批  👈 不清楚是哪个系统
├── 升级审批
├── 变更审批
├── 文件审批
└── 供应商管理
```
❌ 只有一个"注册审批"菜单，无法区分两套系统

### 之后 ✅
```
侧边栏菜单:
├── 首页
├── 采购申请
├── 采购组管理
├── 标签管理
├── RFQ管理
├── 新注册审批  👈 新的6步审批流程（第2步审批人）
├── 升级审批
├── 变更审批
├── 文件审批
├── 供应商审批  👈 旧的供应商状态审批流程
└── 供应商管理
```

**优势**: 采购经理可以清楚地看到两个独立的审批系统，并根据需要选择：
1. "新注册审批" → 审批新供应商的注册申请
2. "供应商审批" → 审批已有供应商的状态变更

---

## 👨‍💼 采购总监、财务总监、财务会计界面变化

### 之前 ❌
```
侧边栏菜单:
├── 首页
├── [其他角色特定菜单]
└── 供应商管理
```
❌ 缺少注册审批菜单！

### 之后 ✅
```
侧边栏菜单:
├── 首页
├── [其他角色特定菜单]
├── 新注册审批  👈 新增！
└── 供应商管理
```

---

## 🎨 图标变化

### 旧系统（供应商审批）
- **图标**: `CircleCheck` ⭕
- **颜色**: Element Plus 默认（蓝色/灰色）

### 新系统（新注册审批）
- **图标**: `Checked` ✅
- **颜色**: Element Plus 默认（蓝色/灰色）

---

## 📄 页面内容对比

### 旧系统页面（`/approvals` - ApprovalQueueView.vue）

**页面标题**:
- 中文: 供应商审批 ✅ (之前是: 注册审批 ❌)
- 英文: Supplier Approvals ✅ (之前是: Registration Approvals ❌)
- 泰语: การอนุมัติซัพพลายเออร์ ✅

**页面副标题**:
- 中文: 审批已有供应商的状态变更和资质审核。✅
- 英文: Review and approve status changes for existing suppliers. ✅

**数据来源**: `suppliers` 表

**显示内容**:
```
供应商列表:
- Shanghai Yirui Electronics Co., Ltd
  状态: under_review
  联系人: xxx
  创建时间: 2024-xx-xx
  [查看详情] [通过当前环节]

- 其他已有供应商...
```

---

### 新系统页面（`/registration-approvals` - RegistrationApprovalView.vue）

**页面标题**:
- 中文: 新注册审批 ✅
- 英文: New Registration Approvals ✅

**数据来源**: `supplier_registration_applications` 表

**显示内容**:
```
注册申请列表:
- 温州奥海电气有限公司
  供应商代码: SUP-REG-001
  邮箱: contact@example.com
  提交时间: 2024-xx-xx
  [审核]

- 其他注册申请...
```

---

## 🔄 用户操作流程对比

### 场景1: 采购员需要审批已有供应商

**之前**:
1. 登录系统
2. 点击侧边栏"注册审批" ❌ 名称混淆
3. 看到页面标题"注册审批" ❌ 让人误以为是新系统
4. 看到 Shanghai Yirui Electronics
5. 困惑：这是不是应该在这里？❓

**之后**:
1. 登录系统
2. 点击侧边栏"供应商审批" ✅ 名称清晰
3. 看到页面标题"供应商审批" ✅ 清楚说明是旧系统
4. 看到 Shanghai Yirui Electronics
5. 明白：这是审批已有供应商，正确！✅

---

### 场景2: 质量经理需要审批新供应商注册申请

**之前**:
1. 登录系统
2. 找不到相关菜单 ❌
3. 无法完成审批任务 ❌

**之后**:
1. 登录系统
2. 点击侧边栏"新注册审批" ✅
3. 看到待审批的注册申请列表
4. 点击"审核"按钮
5. 完成质量审批（第1步）✅

---

### 场景3: 采购经理需要处理两种审批

**之前**:
1. 登录系统
2. 只看到一个"注册审批"菜单 ❌
3. 不知道点击后会看到哪个系统的数据
4. 可能需要手动输入URL切换系统 ❌

**之后**:
1. 登录系统
2. 看到两个清晰的菜单:
   - "新注册审批" → 审批注册申请
   - "供应商审批" → 审批已有供应商
3. 根据任务选择正确的菜单
4. 高效完成审批工作 ✅

---

## 📊 数据验证

### 如何确认看到的是正确的数据？

#### 旧系统（供应商审批）- 应该看到：
```sql
SELECT id, companyName, status
FROM suppliers
WHERE status IN (
  'under_review',
  'pending_purchaser',
  'pending_purchase_manager',
  'pending_finance_manager'
)
```

**示例数据**:
- Shanghai Yirui Electronics Co., Ltd (状态: `under_review`)
- 其他在 `suppliers` 表中的供应商

#### 新系统（新注册审批）- 应该看到：
```sql
SELECT id, companyName, status
FROM supplier_registration_applications
WHERE status LIKE 'pending_%'
```

**示例数据**:
- 温州奥海电气有限公司 (状态: `pending_quality_manager`)
- 其他在 `supplier_registration_applications` 表中的注册申请

---

## ✅ 验证清单

完成修复后，请按以下步骤验证：

### 1. 采购员验证
- [ ] 登录 purch001 / Purch#123
- [ ] 侧边栏看到"供应商审批"（而不是"注册审批"）
- [ ] 点击后页面标题显示"供应商审批"
- [ ] 页面副标题说明是"审批已有供应商的状态变更和资质审核"
- [ ] 看到 Shanghai Yirui Electronics 等已有供应商
- [ ] 不会看到"新注册审批"菜单项

### 2. 质量经理验证
- [ ] 登录 qmgr001 / Quality#123
- [ ] 侧边栏看到"新注册审批"
- [ ] 点击后进入 `/registration-approvals` 页面
- [ ] 看到注册申请列表（如温州奥海电气）
- [ ] 不会看到 Shanghai Yirui Electronics

### 3. 采购经理验证
- [ ] 登录 pmgr001 / ProcMgr#123
- [ ] 侧边栏看到**两个**菜单项：
  - [ ] "新注册审批" → 指向新系统
  - [ ] "供应商审批" → 指向旧系统
- [ ] 可以自由切换两个系统

### 4. 浏览器刷新
- [ ] 在所有角色下，按 Ctrl+Shift+R 强制刷新浏览器
- [ ] 确认新的菜单标签和页面标题已生效
- [ ] 确认没有出现空白页或图标错误

---

## 🎯 关键改进总结

| 改进项 | 之前 | 之后 | 影响 |
|--------|------|------|------|
| **旧系统页面标题** | "注册审批" ❌ | "供应商审批" ✅ | 消除混淆 |
| **旧系统菜单标签** | "注册审批" ❌ | "供应商审批" ✅ | 清晰命名 |
| **新系统菜单** | 不存在 ❌ | "新注册审批" ✅ | 5个角色可访问 |
| **采购经理菜单** | 单个菜单 ❌ | 两个独立菜单 ✅ | 清楚区分 |
| **图标区分** | 无区分 ❌ | 不同图标 ✅ | 视觉识别 |

---

**文档创建日期**: 2025-11-04
**适用版本**: v1.0.0 (修复后)
**相关文档**:
- `FINAL-FIX-SUMMARY.md` - 完整修复总结
- `USER-GUIDE-APPROVAL-SYSTEMS.md` - 两套系统详细说明
