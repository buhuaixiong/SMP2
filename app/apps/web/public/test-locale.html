<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¯­è¨€è®¾ç½®æµ‹è¯•</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .card {
      background: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      border-bottom: 3px solid #409eff;
      padding-bottom: 10px;
    }
    .status {
      padding: 15px;
      border-radius: 6px;
      margin: 15px 0;
      font-weight: bold;
    }
    .success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .info {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }
    .warning {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
    }
    button {
      background: #409eff;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }
    button:hover {
      background: #66b1ff;
    }
    button.secondary {
      background: #67c23a;
    }
    button.secondary:hover {
      background: #85ce61;
    }
    pre {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      border-left: 4px solid #409eff;
    }
    .result {
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>âœ… I18N é»˜è®¤è¯­è¨€å·²ä¿®å¤</h1>

    <div class="status success">
      <strong>âœ“ ä¿®å¤å®Œæˆ</strong><br>
      é»˜è®¤è¯­è¨€å·²ä» "en" (è‹±æ–‡) æ›´æ”¹ä¸º "zh" (ä¸­æ–‡)
    </div>

    <div class="status info">
      <strong>â„¹ï¸ ä¿®æ”¹å†…å®¹</strong><br>
      æ–‡ä»¶: <code>src/i18n.ts</code><br>
      <pre>export const DEFAULT_LOCALE: SupportedLocale = "zh"; // é»˜è®¤è¯­è¨€ï¼šä¸­æ–‡
export const FALLBACK_LOCALE: SupportedLocale = "en"; // å›é€€è¯­è¨€ï¼šè‹±æ–‡</pre>
    </div>

    <h2>ğŸ“‹ ä¸‹ä¸€æ­¥æ“ä½œ</h2>

    <div class="result">
      <p><strong>1. æ¸…é™¤æµè§ˆå™¨è®¾ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰</strong></p>
      <button onclick="clearSettings()">æ¸…é™¤localStorage</button>
      <button class="secondary" onclick="setChineseAndReload()">è®¾ç½®ä¸­æ–‡å¹¶åˆ·æ–°</button>
    </div>

    <div class="result">
      <p><strong>2. é‡å¯å¼€å‘æœåŠ¡å™¨</strong></p>
      <pre>cd C:\supplier-system\apps\web
npm run dev</pre>
    </div>

    <div class="result">
      <p><strong>3. è®¿é—®RFQç®¡ç†é¡µé¢</strong></p>
      <p>æ–°ç”¨æˆ·é¦–æ¬¡è®¿é—®æ—¶ï¼Œå°†è‡ªåŠ¨ä½¿ç”¨ä¸­æ–‡ç•Œé¢</p>
    </div>

    <h2>ğŸ” å½“å‰æµè§ˆå™¨çŠ¶æ€</h2>
    <div id="status" class="result">
      <p>æ­£åœ¨æ£€æµ‹...</p>
    </div>

    <button onclick="checkStatus()">é‡æ–°æ£€æµ‹</button>
    <button onclick="window.location.href='/'">è¿”å›ä¸»é¡µ</button>
  </div>

  <script>
    function checkStatus() {
      const stored = localStorage.getItem('supplier-system.locale');
      const browser = navigator.language;

      let html = '<table style="width: 100%; border-collapse: collapse;">';
      html += '<tr style="border-bottom: 1px solid #ddd;"><td style="padding: 10px;"><strong>localStorageè¯­è¨€</strong></td><td>' + (stored || '(æœªè®¾ç½® - å°†ä½¿ç”¨é»˜è®¤ä¸­æ–‡)') + '</td></tr>';
      html += '<tr style="border-bottom: 1px solid #ddd;"><td style="padding: 10px;"><strong>æµè§ˆå™¨è¯­è¨€</strong></td><td>' + browser + '</td></tr>';
      html += '<tr style="border-bottom: 1px solid #ddd;"><td style="padding: 10px;"><strong>é»˜è®¤è¯­è¨€</strong></td><td>zh (ä¸­æ–‡) âœ…</td></tr>';
      html += '<tr><td style="padding: 10px;"><strong>å›é€€è¯­è¨€</strong></td><td>en (è‹±æ–‡)</td></tr>';
      html += '</table>';

      if (!stored) {
        html += '<div class="status success" style="margin-top: 15px;">âœ“ å®Œç¾ï¼æœªè®¾ç½®localStorageï¼Œå°†ä½¿ç”¨æ–°çš„é»˜è®¤ä¸­æ–‡</div>';
      } else if (stored === 'zh') {
        html += '<div class="status success" style="margin-top: 15px;">âœ“ å¾ˆå¥½ï¼å·²è®¾ç½®ä¸ºä¸­æ–‡</div>';
      } else {
        html += '<div class="status warning" style="margin-top: 15px;">âš  localStorageè®¾ç½®ä¸º "' + stored + '"ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¿®å¤</div>';
      }

      document.getElementById('status').innerHTML = html;
    }

    function clearSettings() {
      localStorage.removeItem('supplier-system.locale');
      sessionStorage.removeItem('supplier-system.locale');
      alert('âœ“ å·²æ¸…é™¤è¯­è¨€è®¾ç½®\n\nç°åœ¨å°†ä½¿ç”¨æ–°çš„é»˜è®¤ä¸­æ–‡');
      checkStatus();
    }

    function setChineseAndReload() {
      localStorage.setItem('supplier-system.locale', 'zh');
      alert('âœ“ å·²è®¾ç½®ä¸ºä¸­æ–‡\n\nå³å°†åˆ·æ–°é¡µé¢');
      setTimeout(() => window.location.reload(), 500);
    }

    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æµ‹
    window.onload = function() {
      checkStatus();
      console.log('%câœ… I18N ä¿®å¤å®Œæˆ', 'color: #67c23a; font-size: 16px; font-weight: bold;');
      console.log('é»˜è®¤è¯­è¨€: zh (ä¸­æ–‡)');
      console.log('å›é€€è¯­è¨€: en (è‹±æ–‡)');
    };
  </script>
</body>
</html>
