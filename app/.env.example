# =============================================
# Supplier Management System - Environment Configuration Template
# =============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# =============================================
# Docker Compose Configuration
# =============================================

# SQL Server Configuration (for Docker)
# CRITICAL: SA_PASSWORD must be at least 8 characters with uppercase, lowercase, and numbers/symbols
SA_PASSWORD=Supplier123!
MSSQL_PORT=1433

# .NET API Port (for Docker)
DOTNET_PORT=5001

# Frontend Port (for Docker)
FRONTEND_PORT=80

# Node JWT Secret (for .NET API to validate Node.js tokens)
NODE_JWT_SECRET=your-node-jwt-secret-key

# Database Configuration (legacy Node backend - removed)
# DB_FILE=./supplier-backend/supplier.db
# DATABASE_PATH=./supplier-backend/supplier.db

# JWT Authentication
# CRITICAL: Generate a strong random secret (at least 32 characters)
# You can generate one using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-this-in-production

# JWT Token Expiration (default: 7 days)
JWT_EXPIRES_IN=7d

# =============================================
# CORS Configuration
# =============================================

# Frontend Origin (change to your production domain)
# Development: http://localhost:5173
# Production: https://your-domain.com
CLIENT_ORIGIN=http://localhost:5173

# =============================================
# Email Configuration (SMTP)
# =============================================

# SMTP Server Settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
# Set to 'true' for port 465, 'false' for other ports

# SMTP Authentication
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-smtp-password

# Email Sender Information
EMAIL_FROM=noreply@your-company.com
EMAIL_FROM_NAME=Supplier Management System

# =============================================
# File Upload Configuration
# =============================================

# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# Allowed file extensions (comma-separated)
ALLOWED_FILE_EXTENSIONS=.pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.zip

# Upload directory (relative to backend root)
UPLOAD_DIR=./uploads

# =============================================
# Virus Scanning Configuration (ClamAV)
# =============================================

# Enable virus scanning (set to 'true' to enable)
CLAMAV_ENABLED=false

# ClamAV daemon host
CLAMAV_HOST=localhost

# ClamAV daemon port
CLAMAV_PORT=3310

# ClamAV Unix socket path (optional, alternative to host:port)
# CLAMAV_SOCKET=/var/run/clamav/clamd.ctl

# Enable debug mode for ClamAV
CLAMAV_DEBUG=false

# =============================================
# Frontend Configuration (Vite)
# =============================================

# API Base URL (used by frontend)
VITE_API_BASE_URL=http://dotnet-api:5001

# CSP Connect Source (for Vite dev server)
VITE_CSP_CONNECT='self' http://localhost:3001 ws://localhost:5173

# =============================================
# Application Settings
# =============================================

# Node Environment (development | production | test)
NODE_ENV=development

# Enable debug logs
DEBUG=false

# Session timeout in minutes
SESSION_TIMEOUT=480

# =============================================
# Database Backup Configuration
# =============================================

# Backup directory
BACKUP_DIR=./backups

# Backup retention days
BACKUP_RETENTION_DAYS=30

# Auto backup schedule (cron format: "0 2 * * *" = daily at 2 AM)
BACKUP_SCHEDULE=0 2 * * *

# .NET API backup scheduler (UTC)
BACKUP_DAILY_SCHEDULE=0 0 * * *
BACKUP_DIFFERENTIAL_SCHEDULE=0 0 * * *
BACKUP_DIFFERENTIAL_ENABLED=true

# =============================================
# Security Settings
# =============================================

# Rate limiting (requests per minute per IP)
RATE_LIMIT_MAX=100

# Enable HTTPS redirect (production only)
FORCE_HTTPS=false

# =============================================
# Monitoring & Logging
# =============================================

# Log level (error | warn | info | debug)
LOG_LEVEL=info

# Log directory
LOG_DIR=./logs
# =============================================
# Audit Log Aggregation (ELK / Loki)
# =============================================
# Configure one or both backends to enable centralized indexing
# Elasticsearch
# ELASTICSEARCH_URL=https://your-elastic-host:9200
# ELASTICSEARCH_INDEX=audit-logs
# ELASTICSEARCH_USERNAME=
# ELASTICSEARCH_PASSWORD=
# ELASTICSEARCH_API_KEY=
# Loki
# LOKI_URL=https://your-loki-host:3100
# LOKI_TENANT_ID=
# LOKI_USERNAME=
# LOKI_PASSWORD=
# LOKI_BASIC_AUTH=
# Aggregation timeout in milliseconds
# AUDIT_AGGREGATOR_TIMEOUT_MS=2500


# Sentry DSN (optional, for error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================
# Optional: External Services
# =============================================

# Redis (optional, for caching)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# AWS S3 (optional, for file storage)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=

# =============================================
# Notes
# =============================================
# 1. Always use strong passwords and secrets in production
# 2. Keep .env file in .gitignore
# 3. Use environment-specific .env files (.env.production, .env.staging)
# 4. Never expose sensitive credentials in logs or error messages
