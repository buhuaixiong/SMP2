import{d as e,u as l,h as a,c as r,i as t,B as o,z as d,k as u,j as i,E as m,f as n,x as p,t as s,e as f,b as c,r as q,F as v,o as b,_ as h}from"./index-CyQdnTIC.js";import{a as y,E as g}from"./el-form-item-DJ87vTOW.js";import{E as V,a as _}from"./el-col-DeDAYdEB.js";import"./el-tag-eQgnjs1v.js";import{E as P,a as U}from"./el-select-CdADVnxU.js";import"./el-scrollbar-CTtrnhms.js";/* empty css                 */import{E as j}from"./el-input-number-BOh8Y7Om.js";import{E as x,a as D}from"./el-radio-group-CWQX-m1k.js";import{E as Y}from"./el-date-picker-panel-CmBAD9wS.js";import{E as T}from"./el-divider-BEySWtZA.js";import"./castArray-C2ko8TfK.js";import"./_baseClone-CxGxK45k.js";import"./index-CubmMpUU.js";import"./el-table-column-DvsfEAIW.js";import"./debounce-B4S_WZO2.js";import"./dayjs.min-CuEfV50W.js";const w={class:"hint-text"},E={class:"hint-text"},H={class:"unit-text"},R={class:"evaluation-criteria"},L=h(e({__name:"RfqForm",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{expose:h,emit:L}){const{t:M}=l(),C=e,k=L,A=a(),N=r({get:()=>C.modelValue,set:e=>k("update:modelValue",e)}),F=t({price:"40",quality:"30",delivery:"20",service:"10"}),W=[{label:M("rfq.documents.technicalSpec"),value:"technical_spec"},{label:M("rfq.documents.qualityCert"),value:"quality_cert"},{label:M("rfq.documents.businessLicense"),value:"business_license"},{label:M("rfq.documents.taxCert"),value:"tax_cert"},{label:M("rfq.documents.bankInfo"),value:"bank_info"},{label:M("rfq.documents.references"),value:"references"}],S=t({title:[{required:!0,message:M("rfq.validation.titleRequired"),trigger:"blur"},{min:5,max:200,message:M("rfq.validation.titleLength"),trigger:"blur"}],rfqType:[{required:!0,message:M("rfq.validation.rfqTypeRequired"),trigger:"change"}],deliveryPeriod:[{required:!0,message:M("rfq.validation.deliveryPeriodRequired"),trigger:"blur"},{type:"number",min:1,max:365,message:M("rfq.validation.deliveryPeriodRange"),trigger:"blur"}],validUntil:[{required:!0,message:M("rfq.validation.validUntilRequired"),trigger:"change"}]});function B(e){return e.getTime()<Date.now()-864e5}return o(F,e=>{N.value.evaluationCriteria={price:Number(e.price)||0,quality:Number(e.quality)||0,delivery:Number(e.delivery)||0,service:Number(e.service)||0}},{deep:!0}),h({validate:async function(){if(!A.value)return!1;try{return await A.value.validate(),!0}catch{return!1}},resetFields:function(){A.value?.resetFields()}}),(e,l)=>{const a=m,r=y,t=T,o=Y,h=D,L=x,C=j,k=U,I=P,Z=_,z=V,J=g;return b(),d(J,{ref_key:"formRef",ref:A,model:N.value,rules:S,"label-width":"160px","label-position":"left",class:"rfq-form"},{default:u(()=>[i(r,{label:n(M)("rfq.form.title"),prop:"title"},{default:u(()=>[i(a,{modelValue:N.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>N.value.title=e),placeholder:n(M)("rfq.form.titlePlaceholder"),maxlength:"200","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.description"),prop:"description"},{default:u(()=>[i(a,{modelValue:N.value.description,"onUpdate:modelValue":l[1]||(l[1]=e=>N.value.description=e),type:"textarea",rows:4,placeholder:n(M)("rfq.form.descriptionPlaceholder"),maxlength:"1000","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(t,{"content-position":"left"},{default:u(()=>[p(s(n(M)("rfq.form.requestInfo")),1)]),_:1}),i(r,{label:n(M)("rfq.form.requestingParty"),prop:"requestingParty"},{default:u(()=>[i(a,{modelValue:N.value.requestingParty,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value.requestingParty=e),placeholder:n(M)("rfq.form.requestingPartyPlaceholder"),maxlength:"100"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.requestingDepartment"),prop:"requestingDepartment"},{default:u(()=>[i(a,{modelValue:N.value.requestingDepartment,"onUpdate:modelValue":l[3]||(l[3]=e=>N.value.requestingDepartment=e),placeholder:n(M)("rfq.form.requestingDepartmentPlaceholder"),maxlength:"100"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.requirementDate"),prop:"requirementDate"},{default:u(()=>[i(o,{modelValue:N.value.requirementDate,"onUpdate:modelValue":l[4]||(l[4]=e=>N.value.requirementDate=e),type:"date",placeholder:n(M)("rfq.form.requirementDatePlaceholder"),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.detailedParameters"),prop:"detailedParameters"},{default:u(()=>[i(a,{modelValue:N.value.detailedParameters,"onUpdate:modelValue":l[5]||(l[5]=e=>N.value.detailedParameters=e),type:"textarea",rows:6,placeholder:n(M)("rfq.form.detailedParametersPlaceholder"),maxlength:"2000","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(t),i(r,{label:n(M)("rfq.form.rfqType"),prop:"rfqType"},{default:u(()=>[i(L,{modelValue:N.value.rfqType,"onUpdate:modelValue":l[6]||(l[6]=e=>N.value.rfqType=e)},{default:u(()=>[i(h,{label:"short_term"},{default:u(()=>[p(s(n(M)("rfq.rfqType.shortTerm"))+" ",1),f("span",w,"(â‰¤ 30 "+s(n(M)("common.days"))+")",1)]),_:1}),i(h,{label:"long_term"},{default:u(()=>[p(s(n(M)("rfq.rfqType.longTerm"))+" ",1),f("span",E,"(> 30 "+s(n(M)("common.days"))+")",1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.deliveryPeriod"),prop:"deliveryPeriod"},{default:u(()=>[i(C,{modelValue:N.value.deliveryPeriod,"onUpdate:modelValue":l[7]||(l[7]=e=>N.value.deliveryPeriod=e),min:1,max:365,placeholder:n(M)("rfq.form.deliveryPeriodPlaceholder")},null,8,["modelValue","placeholder"]),f("span",H,s(n(M)("common.days")),1)]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.projectLocation"),prop:"projectLocation"},{default:u(()=>[i(L,{modelValue:N.value.projectLocation,"onUpdate:modelValue":l[8]||(l[8]=e=>N.value.projectLocation=e)},{default:u(()=>[i(h,{label:"HZ"},{default:u(()=>[p(s(n(M)("rfq.projectLocation.HZ")),1)]),_:1}),i(h,{label:"TH"},{default:u(()=>[p(s(n(M)("rfq.projectLocation.TH")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.budgetAmount"),prop:"budgetAmount"},{default:u(()=>[i(C,{modelValue:N.value.budgetAmount,"onUpdate:modelValue":l[9]||(l[9]=e=>N.value.budgetAmount=e),min:0,precision:2,placeholder:n(M)("rfq.form.budgetAmountPlaceholder"),style:{width:"200px"}},null,8,["modelValue","placeholder"]),i(I,{modelValue:N.value.currency,"onUpdate:modelValue":l[10]||(l[10]=e=>N.value.currency=e),style:{width:"100px","margin-left":"12px"}},{default:u(()=>[i(k,{label:"CNY",value:"CNY"}),i(k,{label:"USD",value:"USD"}),i(k,{label:"EUR",value:"EUR"}),i(k,{label:"THB",value:"THB"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.validUntil"),prop:"validUntil"},{default:u(()=>[i(o,{modelValue:N.value.validUntil,"onUpdate:modelValue":l[11]||(l[11]=e=>N.value.validUntil=e),type:"datetime",placeholder:n(M)("rfq.form.validUntilPlaceholder"),"disabled-date":B,format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DDTHH:mm:ss"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.requiredDocuments")},{default:u(()=>[i(I,{modelValue:N.value.requiredDocuments,"onUpdate:modelValue":l[12]||(l[12]=e=>N.value.requiredDocuments=e),multiple:"",placeholder:n(M)("rfq.form.requiredDocumentsPlaceholder"),style:{width:"100%"}},{default:u(()=>[(b(),c(v,null,q(W,e=>i(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),i(r,{label:n(M)("rfq.form.evaluationCriteria")},{default:u(()=>[f("div",R,[i(z,{gutter:12},{default:u(()=>[i(Z,{span:12},{default:u(()=>[i(a,{modelValue:F.price,"onUpdate:modelValue":l[13]||(l[13]=e=>F.price=e),placeholder:n(M)("rfq.form.priceWeight")},{prepend:u(()=>[p(s(n(M)("rfq.criteria.price")),1)]),append:u(()=>[...l[17]||(l[17]=[p("%",-1)])]),_:1},8,["modelValue","placeholder"])]),_:1}),i(Z,{span:12},{default:u(()=>[i(a,{modelValue:F.quality,"onUpdate:modelValue":l[14]||(l[14]=e=>F.quality=e),placeholder:n(M)("rfq.form.qualityWeight")},{prepend:u(()=>[p(s(n(M)("rfq.criteria.quality")),1)]),append:u(()=>[...l[18]||(l[18]=[p("%",-1)])]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}),i(z,{gutter:12,style:{"margin-top":"12px"}},{default:u(()=>[i(Z,{span:12},{default:u(()=>[i(a,{modelValue:F.delivery,"onUpdate:modelValue":l[15]||(l[15]=e=>F.delivery=e),placeholder:n(M)("rfq.form.deliveryWeight")},{prepend:u(()=>[p(s(n(M)("rfq.criteria.delivery")),1)]),append:u(()=>[...l[19]||(l[19]=[p("%",-1)])]),_:1},8,["modelValue","placeholder"])]),_:1}),i(Z,{span:12},{default:u(()=>[i(a,{modelValue:F.service,"onUpdate:modelValue":l[16]||(l[16]=e=>F.service=e),placeholder:n(M)("rfq.form.serviceWeight")},{prepend:u(()=>[p(s(n(M)("rfq.criteria.service")),1)]),append:u(()=>[...l[20]||(l[20]=[p("%",-1)])]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})])]),_:1},8,["label"])]),_:1},8,["model","rules"])}}}),[["__scopeId","data-v-54d7d3d4"]]);export{L as default};
