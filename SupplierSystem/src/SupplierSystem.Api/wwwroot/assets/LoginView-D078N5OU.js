import{d as a,u as e,a as s,c as l,b as r,e as o,F as n,r as t,f as i,l as u,o as c,t as d,_ as p,g as m,h as g,i as f,j as h,w as v,k as w,E as b,m as _,v as y,n as L,p as V,q as j,s as k,x as q}from"./index-CCqGYNFr.js";/* empty css                 */import{u as I}from"./useNotification-Dbz2eEEB.js";const x={class:"locale-switcher"},C=["value","aria-label"],U=["value"],E=p(a({__name:"LocaleSwitcher",setup(a){const{t:p}=e(),m=s(),g=u,f=l(()=>m.currentLocale),h=async a=>{const e=a.target.value;await m.setLocale(e)};return(a,e)=>(c(),r("div",x,[o("select",{class:"locale-select",value:f.value,"aria-label":i(p)("common.language"),onChange:h},[(c(!0),r(n,null,t(i(g),a=>(c(),r("option",{key:a.value,value:a.value},d(a.label),9,U))),128))],40,C)]))}}),[["__scopeId","data-v-25e0f161"]]),N={class:"login-container"},P={class:"login-card"},R={class:"login-header"},S=["src","alt"],A={class:"form-item"},D={class:"form-label",for:"username"},F={class:"form-helper"},H={class:"login-credential-hint"},K={class:"form-item"},M={class:"form-label",for:"password"},O=["placeholder"],X=["disabled"],z={class:"login-footer"},B=p(a({name:"LoginView",__name:"LoginView",setup(a){const{t:s}=e(),l=j(),n=k(),t=m(),u=I(),p=g(!1),x=f({username:"",password:""}),C=new URL("/assets/login-logo-Db-iXnPa.png",import.meta.url).href,U=async()=>{if(!p.value)if(x.username&&x.password)try{p.value=!0,await t.login({username:x.username.trim(),password:x.password}),u.success(s("auth.notifications.success")),l.replace(n.query.redirect||"/")}catch(a){u.error(a instanceof Error&&a.message?a.message:s("auth.notifications.failure"))}finally{x.password="",p.value=!1}else u.warning(s("auth.validation.missingCredentials"))};return(a,e)=>{const l=E,n=b,t=V("RouterLink");return c(),r("div",N,[h(l,{class:"login-locale-switcher"}),o("div",P,[o("div",R,[o("img",{src:i(C),alt:i(s)("auth.brandAlt"),class:"login-logo"},null,8,S),o("p",null,d(i(s)("auth.prompt")),1)]),o("form",{class:"login-form",onSubmit:v(U,["prevent"])},[o("div",A,[o("label",D,d(i(s)("auth.usernameLabel")),1),h(n,{id:"username",modelValue:x.username,"onUpdate:modelValue":e[0]||(e[0]=a=>x.username=a),modelModifiers:{trim:!0},autocomplete:"username",placeholder:i(s)("registration.login.placeholder"),class:"form-input",required:""},{prepend:w(()=>[...e[2]||(e[2]=[o("i",{class:"el-icon-user"},null,-1)])]),_:1},8,["modelValue","placeholder"]),o("div",F,[e[3]||(e[3]=o("i",{class:"el-icon-info"},null,-1)),o("span",null,d(i(s)("auth.usernameHelper")),1)]),o("p",H,d(i(s)("registration.login.helper")),1)]),o("div",K,[o("label",M,d(i(s)("auth.passwordLabel")),1),_(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>x.password=a),type:"password",autocomplete:"current-password",placeholder:i(s)("auth.passwordPlaceholder"),class:"form-input",required:"",onKeyup:L(U,["enter"])},null,40,O),[[y,x.password]])]),o("button",{class:"login-btn",disabled:p.value,type:"submit"},d(p.value?i(s)("auth.signingIn"):i(s)("auth.signIn")),9,X)],32),o("div",z,[h(t,{class:"register-link",to:"/supplier-registration"},{default:w(()=>[q(d(i(s)("auth.registerCta")),1)]),_:1})])])])}}}),[["__scopeId","data-v-6b2359f7"]]);export{B as default};
