import{b8 as e,d as t,M as n,cT as r,C as s,cU as a,cr as d}from"./index-DeeIzQas.js";const o=(o,l)=>{const i=e({}),u=e([]),p=new WeakMap,c=()=>{u.value=((e,t,n)=>a(e.subTree).filter(e=>{var n;return d(e)&&(null==(n=e.type)?void 0:n.name)===t&&!!e.component}).map(e=>e.component.uid).map(e=>n[e]).filter(e=>!!e))(o,l,i.value)},f=e=>e.render(),m=t({setup:(e,{slots:t})=>()=>(c(),t.default?n(f,{render:t.default}):null)});return{children:u,addChild:e=>{i.value[e.uid]=e,r(i),s(()=>{const t=e.getVnode().el,n=t.parentNode;if(!p.has(n)){p.set(n,[]);const e=n.insertBefore.bind(n);n.insertBefore=(t,s)=>(p.get(n).some(e=>t===e||s===e)&&r(i),e(t,s))}p.get(n).push(t)})},removeChild:e=>{delete i.value[e.uid],r(i);const t=e.getVnode().el,n=t.parentNode,s=p.get(n),a=s.indexOf(t);s.splice(a,1)},ChildrenSorter:m}};export{o as u};
