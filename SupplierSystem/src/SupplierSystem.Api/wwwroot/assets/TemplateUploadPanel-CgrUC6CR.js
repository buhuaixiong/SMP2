import{d as e,h as a,c as l,B as d,b as t,e as p,y as o,t as u,S as n,o as s,_ as i}from"./index-CyRNMvNu.js";const c={class:"upload-block"},r=["for"],f=["id","disabled","accept"],v={class:"hint"},g={key:0,class:"error-text"},m=i(e({name:"TemplateUploadPanel",__name:"TemplateUploadPanel",props:{templateCode:{},loading:{type:Boolean,default:!1},uploadingCode:{default:null},uploadingLabel:{default:"Uploadingâ€¦"},idleLabel:{default:"Upload new version"},inputId:{default:""},accept:{default:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z,.png,.jpg,.jpeg"},hint:{default:""},error:{default:null}},emits:["fileSelected"],setup(e,{emit:i}){const m=e,b=i,C=a(null),x=l(()=>m.loading||!!m.uploadingCode&&m.uploadingCode===m.templateCode),_=l(()=>x.value?m.uploadingLabel:m.idleLabel),h=l(()=>m.inputId||`template-${m.templateCode}`),y=l(()=>m.accept),L=l(()=>m.hint),U=l(()=>m.error),j=()=>{C.value&&(C.value.value="")};d(()=>m.uploadingCode,(e,a)=>{a===m.templateCode&&e!==a&&j()}),d(()=>m.loading,(e,a)=>{a&&!e&&j()});const k=e=>{const a=e.target,l=a.files?.[0];l&&b("fileSelected",{code:m.templateCode,file:l})};return(e,a)=>(s(),t("div",c,[p("label",{for:h.value,class:n(["upload-label",{disabled:x.value}])},[p("input",{ref_key:"inputRef",ref:C,type:"file",id:h.value,disabled:x.value,accept:y.value,onChange:k},null,40,f),p("span",null,u(_.value),1)],10,r),p("p",v,u(L.value),1),U.value?(s(),t("p",g,u(U.value),1)):o("",!0)]))}}),[["__scopeId","data-v-c4fb2972"]]);export{m as default};
