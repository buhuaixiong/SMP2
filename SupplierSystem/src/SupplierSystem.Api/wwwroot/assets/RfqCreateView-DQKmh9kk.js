const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RfqForm-GmCxtu-v.js","assets/index-CyQdnTIC.js","assets/index-D5VxGV9f.css","assets/el-form-item-DJ87vTOW.js","assets/castArray-C2ko8TfK.js","assets/_baseClone-CxGxK45k.js","assets/el-form-item-BWkJzdQ_.css","assets/el-col-DeDAYdEB.js","assets/el-col-Ds2mGN2S.css","assets/el-tag-eQgnjs1v.js","assets/el-tag-DljBBxJR.css","assets/el-select-CdADVnxU.js","assets/el-scrollbar-CTtrnhms.js","assets/el-scrollbar-BWxh-h6K.css","assets/el-select-JEAMk9JB.css","assets/el-input-number-BOh8Y7Om.js","assets/index-CubmMpUU.js","assets/el-input-number-D6iOyBgb.css","assets/el-radio-group-CWQX-m1k.js","assets/el-table-column-DvsfEAIW.js","assets/debounce-B4S_WZO2.js","assets/el-table-column-mti01wbr.css","assets/el-radio-group-Bc0vNHmC.css","assets/el-date-picker-panel-CmBAD9wS.js","assets/dayjs.min-CuEfV50W.js","assets/el-date-picker-panel-C-Zz6Fhi.css","assets/el-divider-BEySWtZA.js","assets/el-divider-BUtF_RGI.css","assets/RfqForm-KODhS5-R.css","assets/el-input-D6B3r8CH.css","assets/RfqSupplierInvitation-DiJ3ZYm0.js","assets/el-loading-oesi7HFc.js","assets/el-loading-C5IeuJ3V.css","assets/el-alert-BXhB-eTB.js","assets/el-alert-G57rL0jl.css","assets/el-text-ndGzEAZg.js","assets/el-text-3XkjT9nK.css","assets/el-empty-ByHbktmc.js","assets/el-empty-D4ZqTl4F.css","assets/useNotification-DAUqvaBw.js","assets/RfqSupplierInvitation-DGJJAaGI.css","assets/RfqLineItemsEditor-CxfB2_gV.js","assets/RfqLineItemsEditor-DyZBsakI.css"])))=>i.map(i=>d[i]);
import{h as e,W as t,d as r,u as a,i,c as l,C as s,s as n,b as o,j as u,k as c,f as m,A as p,aO as d,x as f,t as y,z as g,y as q,e as v,F as b,r as h,cx as _,$ as x,a4 as w,P as E,S as C,G as D,E as I,J as N,q as k,o as T,_ as P}from"./index-CyQdnTIC.js";import{E as j,a as S}from"./el-descriptions-item-C3lsVx1m.js";import{E as U}from"./el-text-ndGzEAZg.js";import{E as $,a as M}from"./el-table-column-DvsfEAIW.js";import"./el-scrollbar-CTtrnhms.js";import{E as R}from"./el-tag-eQgnjs1v.js";/* empty css                 */import{E as A,a as V}from"./el-radio-group-CWQX-m1k.js";import{E as z}from"./el-card-DJj_OhI8.js";import{E as F}from"./el-divider-BEySWtZA.js";import{E as O,a as L}from"./el-step-YP-zL8TP.js";import{E as Y}from"./el-alert-BXhB-eTB.js";import{E as B}from"./el-upload-wfA8ygZ8.js";import"./el-progress-D5jEkcdx.js";import{P as H}from"./PageHeader-CMpTsfBB.js";import{i as W,c as G}from"./rfq-M3h8wC6E.js";import{a as J,u as K}from"./useNotification-DAUqvaBw.js";import"./_baseClone-CxGxK45k.js";import"./castArray-C2ko8TfK.js";import"./debounce-B4S_WZO2.js";import"./index-k8eOE22U.js";import"./cloneDeep-B3nGyXfn.js";const Z={class:"rfq-create-view"},Q={class:"prefill-alert-body"},X={class:"prefill-alert-body"},ee={key:0,style:{"margin-left":"12px",color:"#909399"}},te={class:"step-content"},re={key:0,class:"step-panel"},ae={class:"step-description"},ie={class:"material-type-selection"},le={class:"material-type-content"},se={class:"material-type-content"},ne={key:1,class:"step-panel"},oe={class:"rfq-details-upper"},ue={class:"rfq-details-lower"},ce={key:2,class:"step-panel"},me={class:"step-description"},pe={key:0,style:{"margin-top":"16px"}},de={style:{margin:"8px 0"}},fe={key:3,class:"step-panel"},ye={class:"step-description"},ge={style:{margin:"24px 0 16px 0"}},qe={style:{margin:"32px 0 16px 0"}},ve={key:0},be={style:{margin:"0","white-space":"pre-wrap","word-break":"break-word","font-size":"13px"}},he={class:"step-actions"},_e=P(r({__name:"RfqCreateView",setup(r){const{t:P}=a(),_e=k(),xe=n(),we=K(),Ee=function(){const t=J("http"),r=K(),a=e(0),i=e(!1),l=e(null);return{uploading:i,progress:a,lastError:l,upload:async(e,s)=>{if(!e)throw new Error("File is required for upload");const n=new FormData;n.append(s.fieldName??"file",e),Object.entries(s.extra??{}).forEach(([e,t])=>{null!=t&&n.append(e,String(t))}),i.value=!0,l.value=null,a.value=0;const o=e=>{e.total&&(a.value=Math.round(e.loaded/e.total*100),s.onProgress?.(a.value))};try{let e;if(s.request)e=await s.request(n);else{if(!s.url)throw new Error("Either url or request must be provided");e=await t.request({url:s.url,method:"POST",data:n,silent:s.silent,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o})}return s.successMessage&&r.success(s.successMessage),e}catch(u){const e=s.errorMessage??u?.message??"文件上传失败";throw l.value=e,r.error(e),u}finally{i.value=!1}},reset:()=>{i.value=!1,a.value=0,l.value=null}}}(),Ce=D(()=>N(()=>import("./RfqForm-GmCxtu-v.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),De=D(()=>N(()=>import("./RfqSupplierInvitation-DiJ3ZYm0.js"),__vite__mapDeps([30,1,2,31,32,33,34,7,8,26,27,35,36,19,12,13,5,4,20,21,9,10,37,38,39,40,29]))),Ie=D(()=>N(()=>import("./RfqLineItemsEditor-CxfB2_gV.js"),__vite__mapDeps([41,1,2,19,12,13,5,4,20,21,15,16,17,9,10,11,14,33,34,42,29]))),Ne=e(0),ke=e(!1),Te=e(),Pe=e(null),je=e(null),Se=e(null),Ue=e([]),$e=e(),Me=e(!1),Re=e(""),Ae=i({materialCategoryType:"IDM",lineItems:[],title:"",description:"",rfqType:"short_term",deliveryPeriod:15,projectLocation:"HZ",budgetAmount:void 0,currency:"CNY",validUntil:"",requiredDocuments:[],evaluationCriteria:{},supplierIds:[],externalEmails:[],minSupplierCount:3,supplierExceptionNote:void 0,requestingParty:void 0,requestingDepartment:void 0,requirementDate:void 0,detailedParameters:void 0}),Ve=l(()=>(Ae.supplierIds?.length||0)+(Ae.externalEmails?.length||0));function ze(e){Object.assign(Ae,e)}async function Fe(){if(0===Ne.value){if(!Ae.materialCategoryType)return void we.warning("请选择物料大类");if("DM"===Ae.materialCategoryType)return void we.warning("DM物料功能即将上线，请选择IDM物料")}else if(1===Ne.value){if(!(await(Te.value?.validate?.())))return void we.warning(P("rfq.validation.formIncomplete"));if(!Ae.lineItems||0===Ae.lineItems.length)return void we.warning("请至少添加一个需求行");for(let e=0;e<Ae.lineItems.length;e++){const t=Ae.lineItems[e];if(!(t.materialCategory&&t.itemName&&t.quantity&&t.unit))return void we.warning(`第${e+1}行：请填写完整信息（物料类别、物料名称、数量、单位）`)}}else if(2===Ne.value){const e=Ae.minSupplierCount||3,t=Boolean(Ae.supplierExceptionNote&&Ae.supplierExceptionNote.trim());if(Ve.value<e&&!t)return void we.warning(P("rfq.validation.minSupplierOrException",{count:e}))}Ne.value<3&&(Ne.value+=1)}function Oe(){Ne.value>0&&(Ne.value-=1)}async function Le(){ke.value=!0;try{const r={materialCategoryType:Ae.materialCategoryType,title:Ae.title,description:Ae.description,rfqType:Ae.rfqType,deliveryPeriod:Ae.deliveryPeriod,projectLocation:Ae.projectLocation,budgetAmount:Ae.budgetAmount,currency:Ae.currency,validUntil:Ae.validUntil,requestingParty:Ae.requestingParty,requestingDepartment:Ae.requestingDepartment,requirementDate:Ae.requirementDate,lineItems:Ae.lineItems,supplierIds:Ae.supplierIds,externalEmails:Ae.externalEmails,minSupplierCount:Ae.minSupplierCount,supplierExceptionNote:Ae.supplierExceptionNote,requiredDocuments:Ae.requiredDocuments,evaluationCriteria:Ae.evaluationCriteria},a=await G(r);if(Pe.value&&je.value)try{await async function(e,r,a){await t(`/requisitions/${e}/items/${r}/mark-converted`,{method:"POST",body:{rfq_id:a}})}(Pe.value,je.value,a.id)}catch(e){console.error("Failed to mark requisition item as converted:",e)}we.success(P("rfq.create.success")),_e.push(`/rfq/${a.id}`)}catch(e){we.error(e?.message||P("rfq.create.error"))}finally{ke.value=!1}}function Ye(){_e.push("/rfq")}function Be(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}async function He(e){if(!e.raw)return;if(e.size&&e.size>10485760)return void we.error(P("rfq.import.fileSizeError"));if(!["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12"].includes(e.raw.type)&&!e.name.match(/\.(xlsx?|xlsm)$/i))return void we.error(P("rfq.import.fileTypeError"));if(Ae.title||Ae.lineItems.length>0)try{await we.confirm(P("rfq.import.confirmOverwrite"),P("common.confirm"),{type:"warning"})}catch{return void $e.value?.clearFiles()}try{ke.value=!0;const t=await Ee.upload(e.raw,{request:async e=>(e.append("sheetName","PRBuyer"),e.append("headerRow","15"),W(e)),errorMessage:P("rfq.import.error")});Ae.title=t.title||"",Ae.description=t.description||"",Ae.requestingDepartment=t.requestingDepartment||"",Ae.requirementDate=t.requirementDate||"",Ae.currency=t.currency||"CNY",Ae.budgetAmount=t.budgetAmount||void 0,Ae.lineItems=t.requirements.map((e,r)=>({lineNumber:r+1,materialCategory:"auxiliary_materials",itemName:e.itemName,itemCode:e.itemCode||void 0,quantity:e.quantity,unit:e.unit,estimatedUnitPrice:e.estimatedUnitPrice||void 0,currency:t.currency,remarks:e.notes||void 0})),Me.value=!0,Re.value=t.prNumber,t.recommendedSuppliers&&t.recommendedSuppliers.length>0&&we.info(P("rfq.import.recommendedSuppliers",{count:t.recommendedSuppliers.length,names:t.recommendedSuppliers.slice(0,3).join(", ")}),void 0,{duration:5e3}),Ne.value=1,we.success(P("rfq.import.success",{count:t.requirements.length}),void 0,{duration:3e3})}catch(t){console.error("Excel导入失败:",t),we.error(t.message||P("rfq.import.error"))}finally{ke.value=!1,$e.value?.clearFiles()}}return s(()=>{!function(e){const t=e.fromRequisition,r="number"==typeof t?t:"string"==typeof t&&t.trim().length?Number(t):NaN,a=e.fromRequisitionItem,i="number"==typeof a?a:"string"==typeof a&&a.trim().length?Number(a):NaN;if(!t||Number.isNaN(r))return;Pe.value=r,Number.isNaN(i)||(je.value=i),Se.value={id:r};const l=[];let s="string"==typeof e.itemType?e.itemType:"";["equipment","consumables","fixtures","molds","blades","hardware"].includes(s)||(s&&l.push(`Unrecognized item type "${s}" from requisition; defaulting to "equipment".`),s="equipment");let n="string"==typeof e.itemSubtype?e.itemSubtype:void 0;"equipment"===s?n&&!["standard","non-standard","non_standard","fixtures","molds","blades"].includes(n)&&(l.push(`Unrecognized equipment subtype "${n}"; using "standard".`),n="standard"):"consumables"===s?n&&["labor_protection","cleaning","office","accessories","production","other"].includes(n)||(n&&l.push(`Unrecognized consumable subtype "${n}"; using "other".`),n="other"):n=void 0;const o=function(e,t){switch(e){case"equipment":return"non-standard"===t||"non_standard"===t?{category:"equipment",subcategory:"non_standard"}:"fixtures"===t||"molds"===t||"blades"===t?{category:"equipment",subcategory:t}:{category:"equipment",subcategory:"standard"};case"fixtures":return{category:"equipment",subcategory:"fixtures"};case"molds":return{category:"equipment",subcategory:"molds"};case"blades":return{category:"equipment",subcategory:"blades"};case"hardware":return{category:"auxiliary_materials",subcategory:"hardware"};case"consumables":switch(t){case"labor_protection":return{category:"auxiliary_materials",subcategory:"labor_protection"};case"cleaning":case"production":return{category:"auxiliary_materials",subcategory:"production_supplies"};case"office":return{category:"auxiliary_materials",subcategory:"office_supplies"};case"accessories":return{category:"auxiliary_materials",subcategory:"accessories"};case"hardware":return{category:"auxiliary_materials",subcategory:"hardware"};default:return{category:"auxiliary_materials",subcategory:"others"}}default:return{category:"auxiliary_materials",subcategory:"others"}}}(s,n);Ae.distributionCategory=o.category,Ae.distributionSubcategory=o.subcategory;const u="string"==typeof e.title?e.title.trim():"";u&&(Ae.title=u);const c="string"==typeof e.description?e.description.trim():"",m="string"==typeof e.specifications?e.specifications.trim():"",p="string"==typeof e.quantity?e.quantity.trim():"",d="string"==typeof e.unit?e.unit.trim():"",f="string"==typeof e.notes?e.notes.trim():"";c&&(Ae.description=c);let y=c;m&&(y+=`\n\n${P("requisition.form.fields.specifications.label")}:\n${m}`),p&&d&&(y+=`\n\n${P("requisition.detail.fields.quantity")}: ${p} ${d}`),f&&(y+=`\n\n${P("requisition.form.fields.notes.label")}:\n${f}`),Ae.detailedParameters=y||void 0;const g="string"==typeof e.budgetAmount?e.budgetAmount.trim():String(e.budgetAmount??"").trim();if(g){const e=Number(g);Number.isFinite(e)?Ae.budgetAmount=e:l.push(`Unable to parse budget amount "${g}"; leaving blank.`)}const q="string"==typeof e.currency?e.currency.trim():"";q&&(Ae.currency=q);const v="string"==typeof e.requestingDepartment?e.requestingDepartment.trim():"";v&&(Ae.requestingDepartment=v);const b="string"==typeof e.requirementDate?e.requirementDate.trim():"";b&&(Ae.requirementDate=b),Ue.value=l,Ne.value=Math.max(Ne.value,1),we.success(P("rfq.create.prefilledFromRequisition"),void 0,{duration:3e3})}(xe.query)}),(e,t)=>{const r=p,a=B,i=Y,l=L,s=O,n=F,D=V,N=z,k=R,W=A,G=I,J=$,K=M,xe=S,we=U,Ee=j;return T(),o("div",Z,[u(H,{title:m(P)("rfq.create.title")},{actions:c(()=>[u(a,{ref_key:"excelUploadRef",ref:$e,action:"#","auto-upload":!1,"on-change":He,"show-file-list":!1,accept:".xlsx,.xls,.xlsm",style:{display:"inline-block","margin-right":"8px"}},{default:c(()=>[u(r,{type:"success",icon:m(d)},{default:c(()=>[f(y(m(P)("rfq.import.button")),1)]),_:1},8,["icon"])]),_:1},512),u(r,{onClick:Ye},{default:c(()=>[f(y(m(P)("common.back")),1)]),_:1})]),_:1},8,["title"]),u(N,{class:"wizard-card"},{default:c(()=>[Se.value?(T(),g(i,{key:0,class:"prefill-alert",title:m(P)("rfq.create.prefilledFromRequisition"),type:"success","show-icon":"",closable:!1},{default:c(()=>[v("div",Q,[v("span",null,y(m(P)("requisition.requisitionNumber"))+" #"+y(Se.value.id),1),u(r,{link:"",type:"primary",size:"small",onClick:t[0]||(t[0]=e=>{return t=Se.value.id,void _e.push({name:"requisition-detail",params:{id:t}});var t})},{default:c(()=>[f(y(m(P)("requisition.list.actions.view")),1)]),_:1})])]),_:1},8,["title"])):q("",!0),Me.value?(T(),g(i,{key:1,class:"prefill-alert",title:m(P)("rfq.import.alertTitle"),type:"success","show-icon":"",closable:"",onClose:t[1]||(t[1]=e=>Me.value=!1)},{default:c(()=>[v("div",X,[v("span",null,y(m(P)("rfq.import.alertDescription",{count:Ae.lineItems?.length||0})),1),Re.value?(T(),o("span",ee," PR: "+y(Re.value),1)):q("",!0)])]),_:1},8,["title"])):q("",!0),Ue.value.length?(T(!0),o(b,{key:2},h(Ue.value,(e,t)=>(T(),g(i,{key:`prefill-warning-${t}`,class:"prefill-alert warning",type:"warning","show-icon":"",closable:!1},{title:c(()=>[f(y(e),1)]),_:2},1024))),128)):q("",!0),u(s,{active:Ne.value,"align-center":"","finish-status":"success"},{default:c(()=>[u(l,{title:m(P)("rfq.materialType.label"),icon:m(_)},null,8,["title","icon"]),u(l,{title:m(P)("rfq.create.rfqDetails"),icon:m(x)},null,8,["title","icon"]),u(l,{title:m(P)("rfq.create.step4"),icon:m(w)},null,8,["title","icon"]),u(l,{title:m(P)("rfq.create.step5"),icon:m(E)},null,8,["title","icon"])]),_:1},8,["active"]),u(n),v("div",te,[0===Ne.value?(T(),o("div",re,[v("h2",null,y(m(P)("rfq.create.selectMaterialType")),1),v("p",ae,y(m(P)("rfq.create.materialTypeDesc")),1),v("div",ie,[u(W,{modelValue:Ae.materialCategoryType,"onUpdate:modelValue":t[4]||(t[4]=e=>Ae.materialCategoryType=e),size:"large"},{default:c(()=>[u(N,{class:C(["material-type-card",{selected:"IDM"===Ae.materialCategoryType}]),shadow:"hover",onClick:t[2]||(t[2]=e=>Ae.materialCategoryType="IDM")},{default:c(()=>[u(D,{value:"IDM"},{default:c(()=>[v("div",le,[v("h3",null,y(m(P)("rfq.materialType.idm")),1),v("p",null,y(m(P)("rfq.materialType.idmDesc")),1)])]),_:1})]),_:1},8,["class"]),u(N,{class:C(["material-type-card",{selected:"DM"===Ae.materialCategoryType}]),shadow:"hover",onClick:t[3]||(t[3]=e=>Ae.materialCategoryType="DM")},{default:c(()=>[u(D,{value:"DM",disabled:""},{default:c(()=>[v("div",se,[v("h3",null,y(m(P)("rfq.materialType.dm")),1),v("p",null,y(m(P)("rfq.materialType.dmDesc")),1),u(k,{type:"info",size:"small"},{default:c(()=>[...t[9]||(t[9]=[f("即将上线",-1)])]),_:1})])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue"])])])):q("",!0),1===Ne.value?(T(),o("div",ne,[v("h2",null,y(m(P)("rfq.create.rfqDetails")),1),t[11]||(t[11]=v("p",{class:"step-description"},"填写询价单基本信息和需求行明细",-1)),v("div",oe,[t[10]||(t[10]=v("h3",{class:"section-title"},"基本信息",-1)),u(m(Ce),{ref_key:"rfqFormRef",ref:Te,"model-value":Ae,"onUpdate:modelValue":ze},null,8,["model-value"])]),u(n),v("div",ue,[u(m(Ie),{modelValue:Ae.lineItems,"onUpdate:modelValue":t[5]||(t[5]=e=>Ae.lineItems=e)},null,8,["modelValue"])])])):q("",!0),2===Ne.value?(T(),o("div",ce,[v("h2",null,y(m(P)("rfq.create.inviteSuppliers")),1),v("p",me,y(m(P)("rfq.create.supplierInvitationDesc")),1),u(m(De),{modelValue:Ae.supplierIds,"onUpdate:modelValue":t[6]||(t[6]=e=>Ae.supplierIds=e),"external-emails":Ae.externalEmails,"onUpdate:externalEmails":t[7]||(t[7]=e=>Ae.externalEmails=e)},null,8,["modelValue","external-emails"]),u(i,{title:m(P)("rfq.create.minSupplierNotice",{count:Ae.minSupplierCount||3}),type:"info",closable:!1,style:{"margin-top":"24px"}},null,8,["title"]),Ve.value<(Ae.minSupplierCount||3)?(T(),o("div",pe,[u(i,{title:m(P)("rfq.create.belowMinimum"),type:"warning",closable:!1},{default:c(()=>[v("p",de,y(m(P)("rfq.create.exceptionRequired")),1),u(G,{modelValue:Ae.supplierExceptionNote,"onUpdate:modelValue":t[8]||(t[8]=e=>Ae.supplierExceptionNote=e),type:"textarea",rows:3,placeholder:m(P)("rfq.create.exceptionNotePlaceholder"),maxlength:"500","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["title"])])):q("",!0)])):q("",!0),3===Ne.value?(T(),o("div",fe,[v("h2",null,y(m(P)("rfq.create.reviewSubmit")),1),v("p",ye,y(m(P)("rfq.create.reviewDesc")),1),v("h3",ge,y(m(P)("rfq.lineItems.title"))+" ("+y(Ae.lineItems?.length||0)+" 项) ",1),Ae.lineItems&&Ae.lineItems.length>0?(T(),g(K,{key:0,data:Ae.lineItems,border:""},{default:c(()=>[u(J,{type:"index",label:m(P)("rfq.items.lineNumber"),width:"70"},null,8,["label"]),u(J,{label:m(P)("rfq.lineItems.materialCategory"),width:"120"},{default:c(({row:e})=>[f(y("equipment"===e.materialCategory?m(P)("rfq.distributionCategory.equipment"):"consumables"===e.materialCategory?m(P)("rfq.lineItems.consumables"):"hardware"===e.materialCategory?m(P)("rfq.distributionCategory.hardware"):e.materialCategory||"-"),1)]),_:1},8,["label"]),u(J,{label:m(P)("rfq.lineItems.brand"),width:"100"},{default:c(({row:e})=>[f(y(e.brand||"-"),1)]),_:1},8,["label"]),u(J,{label:m(P)("rfq.items.itemName"),prop:"itemName","min-width":"150"},null,8,["label"]),u(J,{label:m(P)("rfq.lineItems.specifications"),"min-width":"150"},{default:c(({row:e})=>[f(y(e.specifications||"-"),1)]),_:1},8,["label"]),u(J,{label:m(P)("rfq.items.quantity"),width:"120"},{default:c(({row:e})=>[f(y(e.quantity)+" "+y(e.unit),1)]),_:1},8,["label"]),u(J,{label:m(P)("rfq.items.estimatedPrice"),width:"140"},{default:c(({row:e})=>{return[f(y((t=e,t.quantity&&t.estimatedUnitPrice?`${(t.quantity*t.estimatedUnitPrice).toFixed(2)} ${t.currency||"CNY"}`:"-")),1)];var t}),_:1},8,["label"])]),_:1},8,["data"])):q("",!0),v("h3",qe,y(m(P)("rfq.create.rfqDetails")),1),u(Ee,{column:2,border:"",class:"review-section"},{default:c(()=>[u(xe,{label:m(P)("rfq.form.title")},{default:c(()=>[f(y(Ae.title),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.rfqType")},{default:c(()=>[u(k,{type:"short_term"===Ae.rfqType?"success":"warning"},{default:c(()=>[f(y(m(P)(`rfq.rfqType.${Ae.rfqType}`)),1)]),_:1},8,["type"])]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.deliveryPeriod")},{default:c(()=>[f(y(Ae.deliveryPeriod)+" "+y(m(P)("common.days")),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.budgetAmount")},{default:c(()=>[f(y(Ae.budgetAmount||"-")+" "+y(Ae.currency),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.validUntil")},{default:c(()=>[f(y(Be(Ae.validUntil)),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.requestingParty")},{default:c(()=>[f(y(Ae.requestingParty||"-"),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.requestingDepartment")},{default:c(()=>[f(y(Ae.requestingDepartment||"-"),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.form.requirementDate")},{default:c(()=>[f(y(Ae.requirementDate||"-"),1)]),_:1},8,["label"]),u(xe,{label:m(P)("rfq.invitation.selectedCount"),span:2},{default:c(()=>[f(y(Ae.supplierIds?.length||0)+" "+y(m(P)("rfq.invitation.internalSuppliers"))+" ",1),Ae.externalEmails&&Ae.externalEmails.length>0?(T(),o("span",ve," + "+y(Ae.externalEmails.length)+" "+y(m(P)("rfq.invitation.externalSuppliers")),1)):q("",!0)]),_:1},8,["label"]),Ae.supplierExceptionNote?(T(),g(xe,{key:0,label:m(P)("rfq.form.supplierExceptionNote"),span:2},{default:c(()=>[u(we,{type:"warning"},{default:c(()=>[f(y(Ae.supplierExceptionNote),1)]),_:1})]),_:1},8,["label"])):q("",!0),u(xe,{label:m(P)("rfq.form.description"),span:2},{default:c(()=>[f(y(Ae.description||"-"),1)]),_:1},8,["label"]),Ae.detailedParameters?(T(),g(xe,{key:1,label:m(P)("rfq.form.detailedParameters"),span:2},{default:c(()=>[v("pre",be,y(Ae.detailedParameters),1)]),_:1},8,["label"])):q("",!0)]),_:1})])):q("",!0)]),v("div",he,[Ne.value>0?(T(),g(r,{key:0,onClick:Oe},{default:c(()=>[f(y(m(P)("common.previous")),1)]),_:1})):q("",!0),t[12]||(t[12]=v("div",{style:{flex:"1"}},null,-1)),Ne.value<3?(T(),g(r,{key:1,type:"primary",onClick:Fe},{default:c(()=>[f(y(m(P)("common.next")),1)]),_:1})):q("",!0),3===Ne.value?(T(),g(r,{key:2,type:"success",loading:ke.value,onClick:Le},{default:c(()=>[f(y(m(P)("rfq.create.submit")),1)]),_:1},8,["loading"])):q("",!0)])]),_:1})])}}}),[["__scopeId","data-v-8f19a473"]]);export{_e as default};
