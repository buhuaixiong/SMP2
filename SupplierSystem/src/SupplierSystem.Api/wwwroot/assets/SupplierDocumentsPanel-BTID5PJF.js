import{d as e,c as s,b as a,e as t,y as i,F as r,r as n,S as l,z as o,k as c,j as d,f as p,di as m,O as u,dh as y,t as _,o as f,_ as v}from"./index-z18YH7Dc.js";import{R as g}from"./SupplierDirectoryView-puH57Kza.js";import"./el-tag-S4xrfAE-.js";import"./el-select-DoDq5h9m.js";import"./el-scrollbar-CG2II4zE.js";import"./castArray-0lMpEhXd.js";import"./el-timeline-item-CTcraKjO.js";import"./el-alert-Cu2gEKbk.js";import"./useNotification-Bhw0wSDz.js";const x={class:"documents-list"},k={class:"doc-requirement"},h={class:"required-docs"},j={class:"doc-name"},A={key:0,class:"doc-info"},D={class:"validity"},b={key:1,class:"doc-info"},q={key:0,class:"all-documents"},w={class:"doc-list"},T={class:"doc-header"},F={class:"doc-type"},N={class:"doc-filename"},S={class:"doc-dates"},z={key:0,class:"valid-from"},I=v(e({__name:"SupplierDocumentsPanel",props:{documents:{}},setup(e){const v=e,I=s(()=>g),O={business_license:"营业执照",tax_certificate:"税务登记证",bank_information:"银行资料",quality_certificate:"质量认证证书",quality_compensation_agreement:"质量赔偿协议",packaging_transport_agreement:"材料包装运输协议",quality_assurance_agreement:"质量保证协议",quality_kpi_annual_target:"质量KPI年度目标",supplier_manual_template:"供应商手册模板",other:"其他文件"},P=e=>!!v.documents&&v.documents.some(s=>s.docType===e),C=e=>{if(v.documents)return v.documents.find(s=>s.docType===e)},K=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},L=e=>!!e.expiresAt&&new Date(e.expiresAt)<new Date,M=e=>{if(!e.expiresAt)return!1;const s=new Date(e.expiresAt),a=new Date,t=Math.floor((s.getTime()-a.getTime())/864e5);return t>0&&t<=30};return(s,v)=>{const g=u;return f(),a("div",x,[t("div",k,[v[1]||(v[1]=t("h4",null,"必备文件",-1)),t("div",h,[(f(!0),a(r,null,n(I.value,e=>(f(),a("div",{key:e.type,class:l(["doc-status",P(e.type)?"uploaded":"missing"])},[t("div",j,[P(e.type)?(f(),o(g,{key:0},{default:c(()=>[d(p(m))]),_:1})):(f(),o(g,{key:1},{default:c(()=>[d(p(y))]),_:1})),t("span",null,_(e.label),1)]),C(e.type)?(f(),a("div",A,[t("span",D," 有效期："+_(K(C(e.type)?.validFrom))+" - "+_(K(C(e.type)?.expiresAt)),1)])):(f(),a("div",b,[...v[0]||(v[0]=[t("span",{class:"missing-text"},"未上传",-1)])]))],2))),128))])]),e.documents&&e.documents.length>0?(f(),a("div",q,[v[2]||(v[2]=t("h4",null,"已上传全部文件",-1)),t("div",w,[(f(!0),a(r,null,n(e.documents,e=>{return f(),a("div",{key:e.id,class:"doc-item"},[t("div",T,[t("span",F,_(e.docType?(s=e.docType,O[s]||s):"-"),1),t("span",N,_(e.originalName),1)]),t("div",S,[e.validFrom?(f(),a("span",z,"有效日期: "+_(K(e.validFrom)),1)):i("",!0),e.expiresAt?(f(),a("span",{key:1,class:l(["expires-at",{expired:L(e),expiring:M(e)}])}," 截止日期: "+_(K(e.expiresAt)),3)):i("",!0)])]);var s}),128))])])):i("",!0)])}}}),[["__scopeId","data-v-50f52bd4"]]);export{I as default};
