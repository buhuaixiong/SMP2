const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdvancedFiltersPanel-1HdGq87y.js","assets/index-DeeIzQas.js","assets/index-BKgpdITu.css","assets/AdvancedFiltersPanel-4K2rmI6F.css","assets/SupplierTable-DVfmXFqF.js","assets/SupplierTable-CPbmsmDW.css","assets/SupplierDocumentsPanel-DKaNK5VN.js","assets/el-tag-By7otpWY.js","assets/el-tag-DljBBxJR.css","assets/el-select-NxrXWWP1.js","assets/el-scrollbar-BWoxfoy4.js","assets/el-scrollbar-BWxh-h6K.css","assets/castArray-BA3loxne.js","assets/el-select-JEAMk9JB.css","assets/el-timeline-item-CVyFGuwY.js","assets/el-timeline-item-BvbJTz1y.css","assets/el-alert-Bc1PTkCC.js","assets/el-alert-G57rL0jl.css","assets/useNotification-Cmnoum7R.js","assets/SupplierDocumentsPanel-C6pwJpCM.css"])))=>i.map(i=>d[i]);
import{c as e,d as t,b as a,e as l,aa as n,F as s,r as i,x as o,y as r,t as c,S as u,o as p,_ as d,i as m,h as g,u as y,a6 as v,g as f,ab as h,a7 as b,a8 as _,B as k,C as E,j as C,z as A,ac as N,k as S,f as D,G as P,O as I,A as w,H as R,J as T,ad as F,P as $,ae as x,af as q,ag as O,ah as M,ai as U,aj as L,ak as z,q as j,al as V,am as H}from"./index-DeeIzQas.js";import{E as G}from"./el-tag-By7otpWY.js";import{E as Q,a as B}from"./el-select-NxrXWWP1.js";import"./el-scrollbar-BWoxfoy4.js";import{E as Y,a as W}from"./el-timeline-item-CVyFGuwY.js";import{E as J}from"./el-alert-Bc1PTkCC.js";import{u as K}from"./useNotification-Cmnoum7R.js";const X=[{type:"quality_compensation_agreement",label:"è´¨é‡èµ”å¿åè®®",required:!0},{type:"packaging_transport_agreement",label:"ææ–™åŒ…è£…è¿è¾“åè®®",required:!0},{type:"quality_assurance_agreement",label:"è´¨é‡ä¿è¯åè®®",required:!0},{type:"quality_kpi_annual_target",label:"è´¨é‡KPIå¹´åº¦ç›®æ ‡",required:!0},{type:"supplier_manual_template",label:"ä¾›åº”å•†æ‰‹å†Œæ¨¡æ¿",required:!0}],Z={business_license:"è¥ä¸šæ‰§ç…§",tax_certificate:"ç¨ŽåŠ¡ç™»è®°è¯",bank_information:"é“¶è¡Œèµ„æ–™",quality_certificate:"è´¨é‡è®¤è¯è¯ä¹¦",quality_compensation_agreement:"è´¨é‡èµ”å¿åè®®",packaging_transport_agreement:"ææ–™åŒ…è£…è¿è¾“åè®®",quality_assurance_agreement:"è´¨é‡ä¿è¯åè®®",quality_kpi_annual_target:"è´¨é‡KPIå¹´åº¦ç›®æ ‡",supplier_manual_template:"ä¾›åº”å•†æ‰‹å†Œæ¨¡æ¿",other:"å…¶ä»–æ–‡ä»¶"},ee=[{key:"companyName",label:"å…¬å¸åç§°"},{key:"companyId",label:"å…¬å¸ID / æ³¨å†Œå·"},{key:"contactPerson",label:"è”ç³»äºº"},{key:"contactPhone",label:"è”ç³»ç”µè¯"},{key:"contactEmail",label:"è”ç³»é‚®ç®±"},{key:"category",label:"ä¸šåŠ¡ç±»åˆ«"},{key:"address",label:"é€šè®¯åœ°å€"},{key:"businessRegistrationNumber",label:"è¥ä¸šæ‰§ç…§ç¼–å·"},{key:"paymentTerms",label:"ä»˜æ¬¾æ¡æ¬¾"},{key:"paymentCurrency",label:"ä»˜æ¬¾å¸ç§"},{key:"bankAccount",label:"é“¶è¡Œè´¦å·"},{key:"region",label:"æ‰€å±žåœ°åŒº"}];const te={class:"directory-header"},ae={class:"title-row"},le={class:"primary-actions"},ne={class:"search-row"},se={class:"search-field"},ie=["value"],oe={class:"status-field"},re=["value"],ce=["value"],ue={key:0,class:"badge"},pe={class:"quick-filter-icons",role:"group","aria-label":"Quick filters"},de=["title","onClick"],me=d(t({__name:"DirectoryHeader",props:{search:{},status:{},statusOptions:{},needsAttentionActive:{type:Boolean,default:!1},selectedMissingDocuments:{default:()=>[]},documentOptions:{default:()=>[]},advancedCount:{default:0},canClearQuickFilters:{type:Boolean,default:!1}},emits:["update:search","update:status","toggle-advanced","toggle-needs-attention","toggle-missing-document","clear-quick-filters"],setup(e,{emit:t}){const d=t,m=e=>{const t=e.target;d("update:search",t.value)},g=e=>{const t=e.target;d("update:status",t.value)};return(t,d)=>(p(),a("div",te,[l("div",ae,[n(t.$slots,"title",{},()=>[d[3]||(d[3]=l("h1",{class:"view-title"},"Supplier management",-1))],!0),l("div",le,[n(t.$slots,"primary-actions",{},void 0,!0)])]),l("div",ne,[l("label",se,[d[4]||(d[4]=l("span",{class:"sr-only"},"Search suppliers",-1)),l("input",{value:e.search,type:"search",placeholder:"Search by company, contact, or registration",onInput:m},null,40,ie)]),l("label",oe,[d[6]||(d[6]=l("span",null,"Status",-1)),l("select",{value:e.status,onChange:g},[d[5]||(d[5]=l("option",{value:""},"All",-1)),(p(!0),a(s,null,i(e.statusOptions,e=>(p(),a("option",{key:e.value,value:e.value},c(e.label),9,ce))),128))],40,re)]),l("button",{class:"advanced-toggle",type:"button",onClick:d[0]||(d[0]=e=>t.$emit("toggle-advanced"))},[d[7]||(d[7]=o(" Advanced filters ",-1)),e.advancedCount>0?(p(),a("span",ue,c(e.advancedCount),1)):r("",!0)]),l("div",pe,[l("button",{class:u(["icon-filter",{active:e.needsAttentionActive}]),type:"button",title:"Needs attention",onClick:d[1]||(d[1]=e=>t.$emit("toggle-needs-attention"))}," âš ï¸ ",2),(p(!0),a(s,null,i(e.documentOptions,l=>(p(),a("button",{key:l.type,class:u(["icon-filter",{active:e.selectedMissingDocuments.includes(l.type)}]),type:"button",title:`Missing ${l.label}`,onClick:e=>t.$emit("toggle-missing-document",l.type)}," ðŸ“„ ",10,de))),128)),e.canClearQuickFilters?(p(),a("button",{key:0,class:"icon-filter clear",type:"button",title:"Clear quick filters",onClick:d[2]||(d[2]=e=>t.$emit("clear-quick-filters"))}," âœ–ï¸ ")):r("",!0)])])]))}}),[["__scopeId","data-v-04ca9451"]]),ge={key:0,class:"active-filter-chips"},ye=["onClick"],ve=d(t({__name:"ActiveFilterChips",props:{chips:{default:()=>[]},showClear:{type:Boolean,default:!1}},emits:["remove","clear"],setup:e=>(t,l)=>e.chips.length||e.showClear?(p(),a("div",ge,[(p(!0),a(s,null,i(e.chips,e=>(p(),a("button",{key:e.key,class:"chip",type:"button",onClick:a=>t.$emit("remove",e.key)},c(e.label)+" Ã— ",9,ye))),128)),e.showClear?(p(),a("button",{key:0,class:"chip clear",type:"button",onClick:l[0]||(l[0]=e=>t.$emit("clear"))}," Clear all ")):r("",!0)])):r("",!0)}),[["__scopeId","data-v-edfa5536"]]),fe={class:"summary-cards"},he={class:"card card-total"},be={class:"card-content"},_e={class:"card-value"},ke={class:"card-content"},Ee={class:"card-value"},Ce={class:"card-content"},Ae={class:"card-value"},Ne={class:"card-content"},Se={class:"card-value"},De=d(t({__name:"SummaryCards",props:{totalCount:{},needsAttentionCount:{},pendingApprovalsCount:{},highPriorityCount:{},needsAttentionActive:{type:Boolean,default:!1},pendingApprovalsActive:{type:Boolean,default:!1},highPriorityActive:{type:Boolean,default:!1}},emits:["filter-needs-attention","filter-pending","filter-high-priority"],setup:(e,{emit:t})=>(t,n)=>(p(),a("div",fe,[l("div",he,[n[4]||(n[4]=l("div",{class:"card-icon"},"ðŸ“Š",-1)),l("div",be,[l("div",_e,c(e.totalCount),1),n[3]||(n[3]=l("div",{class:"card-label"},"Total Suppliers",-1))])]),l("button",{type:"button",class:u(["card card-attention",{active:e.needsAttentionActive}]),onClick:n[0]||(n[0]=e=>t.$emit("filter-needs-attention"))},[n[6]||(n[6]=l("div",{class:"card-icon"},"âš ï¸",-1)),l("div",ke,[l("div",Ee,c(e.needsAttentionCount),1),n[5]||(n[5]=l("div",{class:"card-label"},"Needs Attention",-1))])],2),l("button",{type:"button",class:u(["card card-pending",{active:e.pendingApprovalsActive}]),onClick:n[1]||(n[1]=e=>t.$emit("filter-pending"))},[n[8]||(n[8]=l("div",{class:"card-icon"},"â³",-1)),l("div",Ce,[l("div",Ae,c(e.pendingApprovalsCount),1),n[7]||(n[7]=l("div",{class:"card-label"},"Pending Approvals",-1))])],2),l("button",{type:"button",class:u(["card card-priority",{active:e.highPriorityActive}]),onClick:n[2]||(n[2]=e=>t.$emit("filter-high-priority"))},[n[10]||(n[10]=l("div",{class:"card-icon"},"ðŸ”¥",-1)),l("div",Ne,[l("div",Se,c(e.highPriorityCount),1),n[9]||(n[9]=l("div",{class:"card-label"},"High Priority",-1))])],2)]))}),[["__scopeId","data-v-f0cf62a1"]]);const Pe=[25,50,100],Ie={class:"directory-page"},we={class:"view-title"},Re={key:2,class:"batch-operations-bar"},Te={class:"batch-info"},Fe={class:"batch-actions"},$e={class:"detail-card"},xe={class:"detail-grid"},qe={key:1,class:"detail-pane"},Oe={class:"detail-header"},Me={class:"header-actions"},Ue={class:"detail-content"},Le={key:0},ze={key:1},je={class:"detail-section"},Ve={class:"info-grid"},He={key:0},Ge={key:1,class:"empty-text"},Qe={key:0},Be={key:1,class:"empty-text"},Ye={key:0},We={key:1,class:"empty-text"},Je={key:0},Ke={key:1,class:"empty-text"},Xe={key:0},Ze={key:1,class:"empty-text"},et={key:0},tt={key:1,class:"empty-text"},at={key:0},lt={key:1,class:"empty-text"},nt={key:0},st={key:1,class:"empty-text"},it={key:0},ot={key:1,class:"empty-text"},rt={key:0},ct={key:1,class:"empty-text"},ut={key:0},pt={key:1,class:"empty-text"},dt={key:0},mt={key:1,class:"empty-text"},gt={class:"detail-section"},yt={key:1,class:"detail-section"},vt={class:"section-title"},ft={class:"timeline-item-content"},ht={class:"timeline-header"},bt={class:"timeline-title"},_t={class:"timeline-actor"},kt={key:0,class:"timeline-remark"},Et={class:"batch-tag-dialog"},Ct={class:"batch-tag-dialog"},At=d(t({__name:"SupplierDirectoryView",setup(t){const{t:n}=y(),d=j(),te=v(),ae=f(),le=K(),ne=P(()=>T(()=>import("./AdvancedFiltersPanel-1HdGq87y.js"),__vite__mapDeps([0,1,2,3]))),se=P(()=>T(()=>import("./SupplierTable-DVfmXFqF.js"),__vite__mapDeps([4,1,2,5]))),ie=P(()=>T(()=>import("./SupplierDocumentsPanel-DKaNK5VN.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14,15,16,17,18,19]))),{getDocTypeName:oe,formatDate:re,isExpired:ce,isExpiringSoon:ue,checkProfileCompleteness:pe,getMissingRequiredDocLabels:de,REQUIRED_PROFILE_FIELDS:ge}=function(){const t=(e,t)=>!!e&&e.some(e=>e.docType===t);e(()=>X.map(e=>({...e,uploaded:!1})));const a=e=>!!e.expiresAt&&new Date(e.expiresAt)<new Date,l=e=>{if(!e.expiresAt)return!1;const t=new Date(e.expiresAt),a=new Date,l=Math.floor((t.getTime()-a.getTime())/864e5);return l>0&&l<=30},n=e=>e?X.filter(a=>!t(e,a.type)).map(e=>e.type):X.map(e=>e.type);return{REQUIRED_DOCUMENT_TYPES:X,ALL_DOCUMENT_TYPES:Z,REQUIRED_PROFILE_FIELDS:ee,getDocTypeName:e=>Z[e]||e,hasDocument:t,getDocument:(e,t)=>{if(e)return e.find(e=>e.docType===t)},isExpired:a,isExpiringSoon:l,getExpiringDocuments:e=>e?e.filter(e=>a(e)||l(e)):[],formatDate:e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A",checkProfileCompleteness:(e,t)=>{const a=[];return t.forEach(t=>{e[t.key]||a.push(t.label)}),a},getMissingRequiredDocs:n,getMissingRequiredDocLabels:e=>n(e).map(e=>{const t=X.find(t=>t.type===e);return t?.label||e})}}(),{sendProfileReminder:ye,sendExpiryReminder:fe}=function(){const e=(e,t,a)=>{if("undefined"==typeof window)return!1;const l=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(a)}`;return window.location.href=l,!0};return{openMailClient:e,sendProfileReminder:(t,a,l,n)=>{if(!t.contactEmail)return!1;if(0===a.length&&0===l.length)return!1;const s=t.contactPerson||t.companyName||"ä¾›åº”å•†ä¼™ä¼´",i=`ä¾›åº”å•†èµ„æ–™å®Œå–„æé†’ - ${t.companyName||"ä¾›åº”å•†"}`,o=((e,t,a)=>{const l=[];return t.length&&l.push(`ç¼ºå¤±ä¿¡æ¯ï¼š\n${t.map(e=>`- ${e}`).join("\n")}`),a.length&&l.push(`ç¼ºå¤±æ–‡ä»¶ï¼š\n${a.map(e=>`- ${e}`).join("\n")}`),[`æ‚¨å¥½ ${e}ï¼š`,"","è´µå¸èµ„æ–™å°šæœªå®Œå–„ï¼Œè¯·å°½å¿«è¡¥å……ä»¥ä¸‹å†…å®¹ï¼š","",l.join("\n\n"),"","å¦‚æœ‰ç–‘é—®è¯·è”ç³»é‡‡è´­å›¢é˜Ÿï¼Œè°¢è°¢ï¼"].join("\n")})(s,a,l),r=e(t.contactEmail,i,o);return r&&n&&n(),r},sendExpiryReminder:(t,a,l)=>{if(!t.contactEmail)return!1;if(0===a.length)return!1;const n=t.contactPerson||t.companyName||"ä¾›åº”å•†ä¼™ä¼´",s=`ä¾›åº”å•†æ–‡ä»¶åˆ°æœŸæé†’ - ${t.companyName||"ä¾›åº”å•†"}`,i=((e,t)=>[`æ‚¨å¥½ ${e}ï¼š`,"","ä»¥ä¸‹æ–‡ä»¶å·²è¿‡æœŸæˆ–å³å°†è¿‡æœŸï¼Œè¯·å°½å¿«è¡¥å……æˆ–æ›´æ–°ï¼š","",t.map(e=>{const t=e.filename?`ï¼Œæ–‡ä»¶ï¼š${e.filename}`:"";return`- ${e.name}ï¼ˆ${e.status}ï¼Œåˆ°æœŸæ—¥ï¼š${e.expiryDate}${t}ï¼‰`}).join("\n"),"","å¦‚æœ‰ç–‘é—®è¯·è”ç³»é‡‡è´­å›¢é˜Ÿï¼Œè°¢è°¢ï¼"].join("\n"))(n,a),o=e(t.contactEmail,s,i);return o&&l&&l(),o}}}(),{filters:he,showAdvancedFilters:be,toggleAdvancedFilters:_e,resetFilters:ke,missingDocumentFilter:Ee,toggleMissingDocumentFilter:Ce,toggleNeedsAttentionFilter:Ae,clearQuickFilters:Ne}=function(){const t=m({q:"",status:"",stage:"",category:"",region:"",importance:"",tag:"",completionStatus:"",missingDocument:[]}),a=g(!1),l=e(()=>t.missingDocument.slice());return{filters:t,showAdvancedFilters:a,toggleAdvancedFilters:()=>{a.value=!a.value},resetFilters:()=>{Object.assign(t,{q:"",status:"",stage:"",category:"",region:"",importance:"",tag:"",completionStatus:"",missingDocument:[]})},missingDocumentFilter:l,toggleMissingDocumentFilter:e=>{const a=t.missingDocument.indexOf(e);a>=0?t.missingDocument.splice(a,1):t.missingDocument.push(e)},toggleNeedsAttentionFilter:()=>{t.completionStatus="needs_attention"===t.completionStatus?"":"needs_attention"},clearQuickFilters:()=>{t.completionStatus="",t.missingDocument=[]}}}(),{suppliers:Se,loading:At,documentRequirementOptions:Nt,selectedSupplierId:St,selectedSupplier:Dt,availableTags:Pt,pagination:It,pageSize:wt,currentPage:Rt}=h(te),Tt=g([]),Ft=g(!1),$t=g(!1),xt=g([]),qt=g([]),Ot=g(!1),Mt=g(!1),Ut=Pe,Lt=e(()=>wt.value),zt=e(()=>Rt.value),jt=e(()=>{const e=he.q.trim().toLowerCase(),t=new Set(Ee.value);return Se.value.filter(a=>{if(!(!e||[a.companyName,a.companyId,a.contactPerson,a.contactEmail].some(t=>"string"==typeof t&&t.toLowerCase().includes(e))))return!1;if(he.status&&a.status!==he.status)return!1;if(he.stage&&(a.stage??b.TEMPORARY)!==he.stage)return!1;if(he.category&&a.category!==he.category)return!1;if(he.region&&a.region!==he.region)return!1;if(he.importance&&a.importance!==he.importance)return!1;if(he.tag){if(!(Array.isArray(a.tags)?a.tags:[]).some(e=>!!e&&("string"==typeof e?e.toLowerCase()===he.tag.toLowerCase():"string"==typeof e.name&&e.name.toLowerCase()===he.tag.toLowerCase())))return!1}if(he.completionStatus){if((a.completionStatus??a.complianceSummary?.completionCategory)!==he.completionStatus)return!1}if(t.size){const e=a.complianceSummary;if(!(e?.missingDocumentTypes??[]).some(e=>e&&t.has(e.type)))return!1}return!0})}),Vt=e(()=>It.value.total??jt.value.length),Ht=e(()=>Lt.value>0?Math.max(1,Math.ceil(Vt.value/Lt.value)):1),Gt=e(()=>0===Vt.value?0:It.value.offset+1),Qt=e(()=>0===Vt.value?0:Math.min(It.value.offset+Se.value.length,Vt.value)),Bt=e(()=>It.value.offset>0),Yt=e(()=>It.value.offset+It.value.limit<Vt.value),Wt=e(()=>jt.value),Jt=()=>{const e={};return he.q.trim()&&(e.q=he.q.trim()),he.status&&(e.status=he.status),he.stage&&(e.stage=he.stage),he.category&&(e.category=he.category),he.region&&(e.region=he.region),he.importance&&(e.importance=he.importance),he.tag&&(e.tag=he.tag),he.missingDocument.length>0&&(e.missingDocument=[...he.missingDocument]),e},Kt=async e=>{const t=Number(e);if(!Number.isFinite(t)||t<=0)return;const a=Math.floor(t);await te.fetchSuppliers(Jt(),{page:1,pageSize:a,force:!0})},Xt=async()=>{if(!Bt.value)return;const e=Math.max(1,zt.value-1);await te.fetchSuppliers(Jt(),{page:e,pageSize:Lt.value,force:!0})},Zt=async()=>{if(!Yt.value)return;const e=zt.value+1;await te.fetchSuppliers(Jt(),{page:e,pageSize:Lt.value,force:!0})},ea=g(null),ta=[{value:"",label:n("directory.stageOptions.all")},{value:b.TEMPORARY,label:n("directory.stageOptions.temporary")},{value:b.OFFICIAL,label:n("directory.stageOptions.official")}],aa=[{value:"",label:n("directory.statusOptions.all")},{value:_.POTENTIAL,label:n("supplier.status.potential")},{value:_.UNDER_REVIEW,label:n("supplier.status.underReview")},{value:_.PENDING_INFO,label:n("supplier.status.pendingPurchaser")},{value:_.PENDING_PURCHASER,label:n("supplier.status.pendingPurchaser")},{value:_.PENDING_QUALITY_REVIEW,label:n("supplier.status.pendingPurchaser")},{value:_.PENDING_PURCHASE_MANAGER,label:n("supplier.status.pendingPurchaseManager")},{value:_.PENDING_PURCHASE_DIRECTOR,label:n("supplier.status.pendingFinanceManager")},{value:_.PENDING_FINANCE_MANAGER,label:n("supplier.status.pendingFinanceManager")},{value:_.APPROVED,label:n("supplier.status.approved")},{value:_.QUALIFIED,label:n("supplier.status.qualified")},{value:_.DISQUALIFIED,label:n("supplier.status.disqualified")},{value:_.SUSPENDED,label:n("supplier.status.suspended")},{value:_.TERMINATED,label:n("supplier.status.terminated")},{value:_.REJECTED,label:n("supplier.status.rejected")}],la=e(()=>Array.from(new Set(Se.value.map(e=>e.category).filter(za))).sort()),na=e(()=>Array.from(new Set(Se.value.map(e=>e.region).filter(za))).sort()),sa=e(()=>Array.from(new Set(Se.value.map(e=>e.importance).filter(za))).sort()),ia=e(()=>Array.from(new Set(Se.value.flatMap(e=>Array.isArray(e.tags)?e.tags:[]).map(e=>"string"==typeof e?e:e?.name).filter(za))).sort()),oa=e(()=>{let e=0;return he.stage&&(e+=1),he.category&&(e+=1),he.region&&(e+=1),he.importance&&(e+=1),he.tag&&(e+=1),e}),ra=e(()=>Boolean(he.completionStatus||Ee.value.length)),ca=e(()=>{if(!Dt.value)return[];const e=[];return Dt.value.approvalHistory?.forEach(t=>{e.push({key:`status_${t.id||t.date}`,source:t.source||"status_approval",title:t.step||"",statusLabel:"approved"===t.result?n("common.approved"):n("common.rejected"),actor:t.decidedByName||t.approver||"",decidedAt:t.decidedAt||t.date||"",remark:t.comments||"",tagType:"approved"===t.result?"success":"danger"})}),Dt.value.fileApprovals?.forEach(t=>{const a=t.fileName?` - ${t.fileName}`:"";e.push({key:`file_${t.id}`,source:t.source||"file_upload",title:`${t.stepName||""}${a}`,statusLabel:"approved"===t.decision?n("common.approved"):n("common.rejected"),actor:t.decidedByName||"",decidedAt:t.decidedAt||"",remark:t.comments||"",tagType:"approved"===t.decision?"success":"danger"})}),e.sort((e,t)=>{const a=new Date(e.decidedAt||0).getTime();return new Date(t.decidedAt||0).getTime()-a})}),ua=e(()=>{const e=[];return he.q.trim()&&e.push({key:"q",label:n("directory.filterChips.search",{value:he.q.trim()})}),he.status&&e.push({key:"status",label:n("directory.filterChips.status",{value:ga(he.status)})}),he.stage&&e.push({key:"stage",label:n("directory.filterChips.stage",{value:ya(he.stage)})}),he.category&&e.push({key:"category",label:n("directory.filterChips.category",{value:he.category})}),he.region&&e.push({key:"region",label:n("directory.filterChips.region",{value:he.region})}),he.importance&&e.push({key:"importance",label:n("directory.filterChips.importance",{value:he.importance})}),he.tag&&e.push({key:"tag",label:n("directory.filterChips.tag",{value:he.tag})}),he.completionStatus&&e.push({key:"completionStatus",label:n("directory.filterChips.progress",{value:va(he.completionStatus)})}),Ee.value.forEach(t=>{const a=Nt.value.find(e=>e.type===t);e.push({key:`missing:${t}`,label:n("directory.filterChips.missing",{value:a?.label??t})})}),e}),pa=e=>{const t={q:"q",status:"status",stage:"stage",category:"category",region:"region",importance:"importance",tag:"tag",completionStatus:"completionStatus"};if(e in t)he[t[e]]="";else if(e.startsWith("missing:")){const t=e.split(":")[1];he.missingDocument=he.missingDocument.filter(e=>e!==t)}},da=async e=>{await te.selectSupplier(e)},ma=e=>{ea.value=ea.value===e?null:e},ga=e=>{if(!e)return n("directory.table.unknown");const t=aa.find(t=>t.value===e);return t?.label??e},ya=e=>e&&e===b.OFFICIAL?n("directory.stageOptions.official"):n("directory.stageOptions.temporary"),va=e=>{switch(e){case"needs_attention":return n("supplier.filters.needsAttention");case"mostly_complete":return n("supplier.filters.mostlyComplete");case"complete":return n("supplier.filters.complete");default:return e}},fa=e(()=>"admin"===ae.user?.role),ha=e(()=>{const e=ae.user;if(!e)return!1;if(null==e.supplierId)return!1;if(new Set(["admin","purchaser","procurement_manager","procurement_director","finance_accountant","finance_director"]).has(e.role))return!1;return!new Set(e.permissions||[]).has("supplier.segment.manage")}),ba=e(()=>"temp_supplier"===ae.user?.role),_a=()=>{d.push("/supplier/change-requests")},ka=()=>{d.push("/supplier/upgrade")},Ea=()=>{d.push("/supplier/file-uploads")},Ca=e(()=>ha.value?n("directory.myProfileTitle"):n("directory.pageTitle")),Aa=e(()=>!ha.value&&be.value),Na=()=>{ha.value||_e()},Sa=e(()=>jt.value.filter(e=>"needs_attention"===(e.completionStatus??e.complianceSummary?.completionCategory)).length),Da=new Set([_.POTENTIAL,_.UNDER_REVIEW,_.PENDING_INFO,_.PENDING_PURCHASER,_.PENDING_QUALITY_REVIEW,_.PENDING_PURCHASE_MANAGER,_.PENDING_PURCHASE_DIRECTOR,_.PENDING_FINANCE_MANAGER]),Pa=e(()=>jt.value.filter(e=>Da.has(e.status)).length),Ia=e(()=>jt.value.filter(e=>"High"===e.importance).length),wa=e(()=>Boolean(he.status&&Da.has(he.status))),Ra=()=>{wa.value?he.status="":he.status=_.PENDING_PURCHASER},Ta=()=>{"High"===he.importance?he.importance="":he.importance="High"},Fa=()=>{te.clearSelection()},$a=async()=>{if(!Dt.value)return;if(!Dt.value.contactEmail)return void le.error("è¯¥ä¾›åº”å•†æœªå¡«å†™è”ç³»é‚®ç®±ï¼Œæ— æ³•å‘é€æé†’é‚®ä»¶");const e=pe(Dt.value,ge),t=de(Dt.value?.documents);if(0===e.length&&0===t.length)return void le.info("è¯¥ä¾›åº”å•†èµ„æ–™å·²å®Œæ•´ï¼Œæ— éœ€æé†’");ye({companyName:Dt.value.companyName,contactPerson:Dt.value.contactPerson,contactEmail:Dt.value.contactEmail},e,t,()=>{le.info(`å·²æ‰“å¼€é‚®ä»¶å®¢æˆ·ç«¯ï¼Œè¯·å‘é€æé†’é‚®ä»¶è‡³ ${Dt.value?.contactEmail}`,void 0,{duration:5e3,showClose:!0})})||le.error("æ— æ³•æ‰“å¼€é‚®ä»¶å®¢æˆ·ç«¯ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®",void 0,{duration:5e3,showClose:!0})},xa=async()=>{if(!Dt.value?.documents)return;if(!Dt.value.contactEmail)return void le.error("è¯¥ä¾›åº”å•†æœªå¡«å†™è”ç³»é‚®ç®±ï¼Œæ— æ³•å‘é€æé†’é‚®ä»¶");const e=Dt.value.documents.filter(e=>ce(e)||ue(e)).map(e=>({name:oe(e.docType||""),filename:e.filename,expiryDate:re(e.expiresAt),status:ce(e)?"å·²è¿‡æœŸ":"å³å°†è¿‡æœŸ"}));if(0===e.length)return void le.info("è¯¥ä¾›åº”å•†æš‚æ— å³å°†è¿‡æœŸæˆ–å·²è¿‡æœŸçš„æ–‡ä»¶");fe({companyName:Dt.value.companyName,contactPerson:Dt.value.contactPerson,contactEmail:Dt.value.contactEmail},e,()=>{le.info(`å·²æ‰“å¼€é‚®ä»¶å®¢æˆ·ç«¯ï¼Œè¯·å‘é€æé†’é‚®ä»¶è‡³ ${Dt.value?.contactEmail}`,void 0,{duration:5e3,showClose:!0})})||le.error("æ— æ³•æ‰“å¼€é‚®ä»¶å®¢æˆ·ç«¯ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®",void 0,{duration:5e3,showClose:!0})},qa=e=>{Tt.value=e},Oa=()=>{Tt.value=[]},Ma=()=>{d.push({name:"admin-bulk-document-import",state:{preSelectedSupplierIds:Tt.value}})},Ua=async()=>{if(0===xt.value.length||0===Tt.value.length)return;Ot.value=!0;let e=0,t=0;try{for(const l of xt.value)try{await V(l,Tt.value),e++}catch(a){console.error(`Failed to assign tag ${l}:`,a),t++}e>0&&(le.success(`æˆåŠŸä¸º ${Tt.value.length} ä¸ªä¾›åº”å•†æ·»åŠ äº† ${e} ä¸ªæ ‡ç­¾`),await te.fetchSuppliers(),xt.value=[],Ft.value=!1,Oa()),t>0&&le.warning(`${t} ä¸ªæ ‡ç­¾æ·»åŠ å¤±è´¥`)}catch(a){console.error("Batch add tags error:",a),le.error("æ‰¹é‡æ·»åŠ æ ‡ç­¾å¤±è´¥")}finally{Ot.value=!1}},La=async()=>{if(0===qt.value.length||0===Tt.value.length)return;Ot.value=!0;let e=0,t=0;try{for(const l of qt.value)try{await H(l,Tt.value),e++}catch(a){console.error(`Failed to remove tag ${l}:`,a),t++}e>0&&(le.success(`æˆåŠŸä»Ž ${Tt.value.length} ä¸ªä¾›åº”å•†ä¸­ç§»é™¤äº† ${e} ä¸ªæ ‡ç­¾`),await te.fetchSuppliers(),qt.value=[],$t.value=!1,Oa()),t>0&&le.warning(`${t} ä¸ªæ ‡ç­¾ç§»é™¤å¤±è´¥`)}catch(a){console.error("Batch remove tags error:",a),le.error("æ‰¹é‡ç§»é™¤æ ‡ç­¾å¤±è´¥")}finally{Ot.value=!1}};k(()=>({q:he.q,status:he.status,stage:he.stage,category:he.category,region:he.region,importance:he.importance,tag:he.tag,completionStatus:he.completionStatus,missingDocument:[...he.missingDocument]}),async()=>{!ha.value&&Mt.value&&await te.fetchSuppliers(Jt(),{page:1,pageSize:Lt.value,force:!0})},{deep:!0}),k(jt,()=>{jt.value.some(e=>e.id===ea.value)||(ea.value=null)}),E(async()=>{await te.fetchSuppliers(Jt(),{page:1,pageSize:Lt.value,force:!0}),Mt.value=!0,await te.ensureTags(),(ha.value&&Se.value.length>0||!ha.value&&Se.value.length&&null==St.value)&&await te.selectSupplier(Se.value[0].id)});const za=e=>"string"==typeof e&&e.trim().length>0;return(e,t)=>{const d=I,m=w,g=J,y=G,v=W,f=Y,h=B,b=Q,_=R;return p(),a("div",Ie,[C(me,{search:D(he).q,status:D(he).status,"status-options":aa,"needs-attention-active":"needs_attention"===D(he).completionStatus,"selected-missing-documents":D(Ee),"document-options":D(Nt),"advanced-count":oa.value,"can-clear-quick-filters":ra.value,"onUpdate:search":t[0]||(t[0]=e=>D(he).q=e),"onUpdate:status":t[1]||(t[1]=e=>D(he).status=e),onToggleAdvanced:Na,onToggleNeedsAttention:D(Ae),onToggleMissingDocument:D(Ce),onClearQuickFilters:D(Ne)},N({title:S(()=>[l("h1",we,c(Ca.value),1)]),_:2},[fa.value?{name:"primary-actions",fn:S(()=>[C(m,{type:"primary",plain:"",onClick:Ma},{default:S(()=>[C(d,null,{default:S(()=>[C(D(F))]),_:1}),t[15]||(t[15]=o(" æ‰¹é‡ä¸Šä¼ å¿…å¤‡æ–‡ä»¶ ",-1))]),_:1})]),key:"0"}:void 0]),1032,["search","status","needs-attention-active","selected-missing-documents","document-options","advanced-count","can-clear-quick-filters","onToggleNeedsAttention","onToggleMissingDocument","onClearQuickFilters"]),C(ve,{chips:ua.value,"show-clear":ua.value.length>0,onRemove:pa,onClear:D(ke)},null,8,["chips","show-clear","onClear"]),ha.value?r("",!0):(p(),A(De,{key:0,"total-count":Vt.value,"needs-attention-count":Sa.value,"pending-approvals-count":Pa.value,"high-priority-count":Ia.value,"needs-attention-active":"needs_attention"===D(he).completionStatus,"pending-approvals-active":wa.value,"high-priority-active":"High"===D(he).importance,onFilterNeedsAttention:D(Ae),onFilterPending:Ra,onFilterHighPriority:Ta},null,8,["total-count","needs-attention-count","pending-approvals-count","high-priority-count","needs-attention-active","pending-approvals-active","high-priority-active","onFilterNeedsAttention"])),Aa.value?(p(),A(D(ne),{key:1,stage:D(he).stage,category:D(he).category,region:D(he).region,importance:D(he).importance,tag:D(he).tag,"stage-options":ta,"category-options":la.value,"region-options":na.value,"importance-options":sa.value,"tag-options":ia.value,"onUpdate:stage":t[2]||(t[2]=e=>D(he).stage=e),"onUpdate:category":t[3]||(t[3]=e=>D(he).category=e),"onUpdate:region":t[4]||(t[4]=e=>D(he).region=e),"onUpdate:importance":t[5]||(t[5]=e=>D(he).importance=e),"onUpdate:tag":t[6]||(t[6]=e=>D(he).tag=e)},null,8,["stage","category","region","importance","tag","category-options","region-options","importance-options","tag-options"])):r("",!0),Tt.value.length>0&&!ha.value?(p(),a("div",Re,[l("div",Te,[C(d,null,{default:S(()=>[C(D($))]),_:1}),l("span",null,"å·²é€‰æ‹© "+c(Tt.value.length)+" ä¸ªä¾›åº”å•†",1)]),l("div",Fe,[C(m,{type:"primary",size:"small",onClick:t[7]||(t[7]=e=>Ft.value=!0)},{default:S(()=>[C(d,null,{default:S(()=>[C(D(x))]),_:1}),t[16]||(t[16]=o(" æ‰¹é‡æ·»åŠ æ ‡ç­¾ ",-1))]),_:1}),C(m,{type:"danger",size:"small",plain:"",onClick:t[8]||(t[8]=e=>$t.value=!0)},{default:S(()=>[C(d,null,{default:S(()=>[C(D(q))]),_:1}),t[17]||(t[17]=o(" æ‰¹é‡ç§»é™¤æ ‡ç­¾ ",-1))]),_:1}),fa.value?(p(),A(m,{key:0,type:"success",size:"small",onClick:Ma},{default:S(()=>[C(d,null,{default:S(()=>[C(D(F))]),_:1}),t[18]||(t[18]=o(" æ‰¹é‡ä¸Šä¼ æ–‡ä»¶ ",-1))]),_:1})):r("",!0),C(m,{size:"small",onClick:Oa},{default:S(()=>[...t[19]||(t[19]=[o(" æ¸…é™¤é€‰æ‹© ",-1)])]),_:1})])])):r("",!0),l("div",{class:u(["content-layout",{"supplier-view":ha.value}])},[ha.value?r("",!0):(p(),A(D(se),{key:0,suppliers:Wt.value,loading:D(At),"page-start":Gt.value,"page-end":Qt.value,"total-items":Vt.value,"page-size":Lt.value,"page-size-options":D(Ut),"current-page":zt.value,"total-pages":Ht.value,"can-go-previous":Bt.value,"can-go-next":Yt.value,"selected-supplier-id":D(St),"expanded-supplier-id":ea.value,"selected-supplier-ids":Tt.value,"onUpdate:pageSize":Kt,onPreviousPage:Xt,onNextPage:Zt,onSelect:da,onToggleExpand:ma,"onUpdate:selectedSupplierIds":qa},{details:S(({supplier:e})=>[l("div",$e,[l("div",xe,[l("div",null,[l("h4",null,c(D(n)("directory.table.contact")),1),l("p",null,[l("strong",null,c(e.contactPerson),1),t[20]||(t[20]=l("br",null,null,-1)),o(" "+c(e.contactEmail),1),t[21]||(t[21]=l("br",null,null,-1)),o(" "+c(e.contactPhone||D(n)("directory.table.noPhone")),1)])]),l("div",null,[l("h4",null,c(D(n)("directory.table.profile")),1),l("p",null,c(D(n)("directory.table.stage"))+": "+c(ya(e.stage)),1),l("p",null,c(D(n)("common.status"))+": "+c(ga(e.status)),1),l("p",null,c(D(n)("directory.table.importance"))+": "+c(e.importance||D(n)("directory.table.notSet")),1)]),l("div",null,[l("h4",null,c(D(n)("directory.table.completion")),1),l("p",null,c(D(n)("directory.fields.profileCompletion",{percent:Math.round(e.profileCompletion??0)})),1),l("p",null,c(D(n)("directory.fields.documentCompletion",{percent:Math.round(e.documentCompletion??0)})),1)])])])]),_:1},8,["suppliers","loading","page-start","page-end","total-items","page-size","page-size-options","current-page","total-pages","can-go-previous","can-go-next","selected-supplier-id","expanded-supplier-id","selected-supplier-ids"])),D(Dt)?(p(),a("aside",qe,[l("header",Oe,[l("h2",null,c(D(Dt).companyName),1),l("div",Me,[ha.value?(p(),a(s,{key:1},[C(m,{size:"small",type:"primary",onClick:_a},{default:S(()=>[C(d,null,{default:S(()=>[C(D(U))]),_:1}),t[24]||(t[24]=o(" ç”³è¯·å˜æ›´èµ„æ–™ ",-1))]),_:1}),ba.value?(p(),A(m,{key:0,size:"small",type:"success",onClick:ka},{default:S(()=>[C(d,null,{default:S(()=>[C(D(L))]),_:1}),t[25]||(t[25]=o(" è½¬ä¸ºæ­£å¼ä¾›åº”å•† ",-1))]),_:1})):r("",!0),C(m,{size:"small",onClick:Ea},{default:S(()=>[C(d,null,{default:S(()=>[C(D(F))]),_:1}),t[26]||(t[26]=o(" ä¸Šä¼ /æ›´æ–°æ–‡ä»¶ ",-1))]),_:1})],64)):(p(),a(s,{key:0},[C(m,{size:"small",type:"warning",onClick:$a},{default:S(()=>[C(d,null,{default:S(()=>[C(D(O))]),_:1}),t[22]||(t[22]=o(" æé†’å®Œå–„èµ„æ–™ ",-1))]),_:1}),C(m,{size:"small",type:"danger",onClick:xa},{default:S(()=>[C(d,null,{default:S(()=>[C(D(M))]),_:1}),t[23]||(t[23]=o(" æé†’æ–‡ä»¶åˆ°æœŸ ",-1))]),_:1})],64)),C(m,{size:"small",onClick:Fa},{default:S(()=>[...t[27]||(t[27]=[o("å…³é—­",-1)])]),_:1})])]),l("div",Ue,[ha.value?(p(),A(g,{key:0,type:"info",closable:!1,"show-icon":"",class:"supplier-notice"},{title:S(()=>[o(c(ba.value?"ä¸´æ—¶ä¾›åº”å•†è¯´æ˜Žï¼š":"æ­£å¼ä¾›åº”å•†è¯´æ˜Žï¼š"),1)]),default:S(()=>[l("ul",null,[ba.value?(p(),a("li",Le,"æ‚¨å½“å‰æ˜¯ä¸´æ—¶ä¾›åº”å•†ï¼Œéƒ¨åˆ†åŠŸèƒ½å—é™")):r("",!0),t[28]||(t[28]=l("li",null,'å¦‚éœ€ä¿®æ”¹èµ„æ–™ï¼Œè¯·é€šè¿‡"ç”³è¯·å˜æ›´èµ„æ–™"æäº¤',-1)),ba.value?(p(),a("li",ze,"å®Œæˆå…¨éƒ¨æ–‡ä»¶ä¸Šä¼ åŽå¯ç”³è¯·è½¬ä¸ºæ­£å¼ä¾›åº”å•†")):r("",!0),l("li",null,"èµ„æ–™å®Œæ•´åº¦ï¼š"+c(Math.round(D(Dt).profileCompletion||0))+"%",1)])]),_:1})):r("",!0),l("section",je,[t[41]||(t[41]=l("h3",{class:"section-title"},"ä¾›åº”å•†èµ„æ–™",-1)),l("div",Ve,[l("div",{class:u(["info-item",{filled:D(Dt).companyName,empty:!D(Dt).companyName}])},[t[29]||(t[29]=l("label",null,"å…¬å¸åç§°",-1)),D(Dt).companyName?(p(),a("span",He,c(D(Dt).companyName),1)):(p(),a("span",Ge,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).companyId,empty:!D(Dt).companyId}])},[t[30]||(t[30]=l("label",null,"å…¬å¸ID / æ³¨å†Œå·",-1)),D(Dt).companyId?(p(),a("span",Qe,c(D(Dt).companyId),1)):(p(),a("span",Be,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).contactPerson,empty:!D(Dt).contactPerson}])},[t[31]||(t[31]=l("label",null,"è”ç³»äºº",-1)),D(Dt).contactPerson?(p(),a("span",Ye,c(D(Dt).contactPerson),1)):(p(),a("span",We,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).contactPhone,empty:!D(Dt).contactPhone}])},[t[32]||(t[32]=l("label",null,"è”ç³»ç”µè¯",-1)),D(Dt).contactPhone?(p(),a("span",Je,c(D(Dt).contactPhone),1)):(p(),a("span",Ke,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).contactEmail,empty:!D(Dt).contactEmail}])},[t[33]||(t[33]=l("label",null,"è”ç³»é‚®ç®±",-1)),D(Dt).contactEmail?(p(),a("span",Xe,c(D(Dt).contactEmail),1)):(p(),a("span",Ze,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).category,empty:!D(Dt).category}])},[t[34]||(t[34]=l("label",null,"ä¸šåŠ¡ç±»åˆ«",-1)),D(Dt).category?(p(),a("span",et,c(D(Dt).category),1)):(p(),a("span",tt,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item full-width",{filled:D(Dt).address,empty:!D(Dt).address}])},[t[35]||(t[35]=l("label",null,"é€šè®¯åœ°å€",-1)),D(Dt).address?(p(),a("span",at,c(D(Dt).address),1)):(p(),a("span",lt,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).businessRegistrationNumber,empty:!D(Dt).businessRegistrationNumber}])},[t[36]||(t[36]=l("label",null,"è¥ä¸šæ‰§ç…§ç¼–å·",-1)),D(Dt).businessRegistrationNumber?(p(),a("span",nt,c(D(Dt).businessRegistrationNumber),1)):(p(),a("span",st,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).paymentTerms,empty:!D(Dt).paymentTerms}])},[t[37]||(t[37]=l("label",null,"ä»˜æ¬¾æ¡æ¬¾",-1)),D(Dt).paymentTerms?(p(),a("span",it,c(D(Dt).paymentTerms),1)):(p(),a("span",ot,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).paymentCurrency,empty:!D(Dt).paymentCurrency}])},[t[38]||(t[38]=l("label",null,"ä»˜æ¬¾å¸ç§",-1)),D(Dt).paymentCurrency?(p(),a("span",rt,c(D(Dt).paymentCurrency),1)):(p(),a("span",ct,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).bankAccount,empty:!D(Dt).bankAccount}])},[t[39]||(t[39]=l("label",null,"é“¶è¡Œè´¦å·",-1)),D(Dt).bankAccount?(p(),a("span",ut,c(D(Dt).bankAccount),1)):(p(),a("span",pt,"æœªå¡«å†™"))],2),l("div",{class:u(["info-item",{filled:D(Dt).region,empty:!D(Dt).region}])},[t[40]||(t[40]=l("label",null,"æ‰€å±žåœ°åŒº",-1)),D(Dt).region?(p(),a("span",dt,c(D(Dt).region),1)):(p(),a("span",mt,"æœªå¡«å†™"))],2)])]),l("section",gt,[t[42]||(t[42]=l("h3",{class:"section-title"},"æ–‡ä»¶èµ„æ–™",-1)),C(D(ie),{documents:D(Dt).documents},null,8,["documents"])]),ca.value.length>0?(p(),a("section",yt,[l("h3",vt,c(D(n)("supplier.approvalHistory.title")),1),C(f,{class:"approval-timeline"},{default:S(()=>[(p(!0),a(s,null,i(ca.value,e=>(p(),A(v,{key:e.key,timestamp:D(re)(e.decidedAt),type:e.tagType,placement:"top"},{default:S(()=>[l("div",ft,[l("div",ht,[C(y,{size:"small",class:u(`source-tag ${e.source}-tag`)},{default:S(()=>[o(c(D(n)(`supplier.approvalHistory.sourceLabels.${e.source}`)),1)]),_:2},1032,["class"]),l("span",bt,c(e.title),1),C(y,{size:"small",type:e.tagType},{default:S(()=>[o(c(e.statusLabel),1)]),_:2},1032,["type"])]),l("p",_t,c(D(n)("supplier.approvalHistory.handler"))+": "+c(e.actor||"æœªçŸ¥"),1),e.remark?(p(),a("p",kt,c(D(n)("supplier.approvalHistory.remark"))+": "+c(e.remark),1)):r("",!0)])]),_:2},1032,["timestamp","type"]))),128))]),_:1})])):r("",!0)])])):r("",!0)],2),C(_,{modelValue:Ft.value,"onUpdate:modelValue":t[11]||(t[11]=e=>Ft.value=e),title:"æ‰¹é‡æ·»åŠ æ ‡ç­¾",width:"500px"},{footer:S(()=>[C(m,{onClick:t[10]||(t[10]=e=>Ft.value=!1)},{default:S(()=>[...t[43]||(t[43]=[o("å–æ¶ˆ",-1)])]),_:1}),C(m,{type:"primary",loading:Ot.value,disabled:0===xt.value.length,onClick:Ua},{default:S(()=>[...t[44]||(t[44]=[o(" ç¡®è®¤æ·»åŠ  ",-1)])]),_:1},8,["loading","disabled"])]),default:S(()=>[l("div",Et,[C(g,{title:"æç¤º",type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:S(()=>[o(" å·²é€‰æ‹© "+c(Tt.value.length)+" ä¸ªä¾›åº”å•†ï¼Œå°†ä¸ºè¿™äº›ä¾›åº”å•†æ‰¹é‡æ·»åŠ æ‰€é€‰æ ‡ç­¾ã€‚ ",1)]),_:1}),C(b,{modelValue:xt.value,"onUpdate:modelValue":t[9]||(t[9]=e=>xt.value=e),multiple:"",placeholder:"è¯·é€‰æ‹©è¦æ·»åŠ çš„æ ‡ç­¾",style:{width:"100%"},filterable:""},{default:S(()=>[(p(!0),a(s,null,i(D(Pt),e=>(p(),A(h,{key:e.id,label:e.name,value:e.id},{default:S(()=>[l("span",{style:z({color:e.color||"#409EFF"})},"â€¢ "+c(e.name),5)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),C(_,{modelValue:$t.value,"onUpdate:modelValue":t[14]||(t[14]=e=>$t.value=e),title:"æ‰¹é‡ç§»é™¤æ ‡ç­¾",width:"500px"},{footer:S(()=>[C(m,{onClick:t[13]||(t[13]=e=>$t.value=!1)},{default:S(()=>[...t[45]||(t[45]=[o("å–æ¶ˆ",-1)])]),_:1}),C(m,{type:"danger",loading:Ot.value,disabled:0===qt.value.length,onClick:La},{default:S(()=>[...t[46]||(t[46]=[o(" ç¡®è®¤ç§»é™¤ ",-1)])]),_:1},8,["loading","disabled"])]),default:S(()=>[l("div",Ct,[C(g,{title:"æç¤º",type:"warning",closable:!1,style:{"margin-bottom":"16px"}},{default:S(()=>[o(" å·²é€‰æ‹© "+c(Tt.value.length)+" ä¸ªä¾›åº”å•†ï¼Œå°†ä»Žè¿™äº›ä¾›åº”å•†ä¸­æ‰¹é‡ç§»é™¤æ‰€é€‰æ ‡ç­¾ã€‚ ",1)]),_:1}),C(b,{modelValue:qt.value,"onUpdate:modelValue":t[12]||(t[12]=e=>qt.value=e),multiple:"",placeholder:"è¯·é€‰æ‹©è¦ç§»é™¤çš„æ ‡ç­¾",style:{width:"100%"},filterable:""},{default:S(()=>[(p(!0),a(s,null,i(D(Pt),e=>(p(),A(h,{key:e.id,label:e.name,value:e.id},{default:S(()=>[l("span",{style:z({color:e.color||"#409EFF"})},"â€¢ "+c(e.name),5)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-61830289"]]),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"}));export{X as R,Nt as S};
