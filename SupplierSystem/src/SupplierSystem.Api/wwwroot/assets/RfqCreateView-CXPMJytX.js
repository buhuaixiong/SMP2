const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RfqForm-zMmcq5Zj.js","assets/index-rw7zlv6S.js","assets/index-CMY-P_dF.css","assets/el-form-item-BX0_rjAF.js","assets/castArray-BwqloSa3.js","assets/_baseClone-CNDyvpdQ.js","assets/el-form-item-BWkJzdQ_.css","assets/el-col-DRz4VlCT.js","assets/el-col-Ds2mGN2S.css","assets/el-tag-cdPnKa4g.js","assets/el-tag-DljBBxJR.css","assets/el-select-DXwocduF.js","assets/el-scrollbar-D5w1osf_.js","assets/el-scrollbar-BWxh-h6K.css","assets/el-select-JEAMk9JB.css","assets/el-input-number-CrB8zAmR.js","assets/index-ByJSVvTl.js","assets/el-input-number-D6iOyBgb.css","assets/el-radio-group-C7AQpQOQ.js","assets/el-table-column-IKxgbm5V.js","assets/debounce-ClUD_C4p.js","assets/el-table-column-mti01wbr.css","assets/el-radio-group-Bc0vNHmC.css","assets/el-date-picker-panel-CtjYNzbE.js","assets/dayjs.min-CuEfV50W.js","assets/el-date-picker-panel-C-Zz6Fhi.css","assets/el-divider-uQWCJzJb.js","assets/el-divider-BUtF_RGI.css","assets/RfqForm-KODhS5-R.css","assets/el-input-D6B3r8CH.css","assets/RfqSupplierInvitation-D0zpBt3h.js","assets/el-loading-C8xC8rSu.js","assets/el-loading-C5IeuJ3V.css","assets/el-alert-i6ynGj4f.js","assets/el-alert-G57rL0jl.css","assets/el-text-C9UTNuV-.js","assets/el-text-3XkjT9nK.css","assets/el-empty-DCsIcLEB.js","assets/el-empty-D4ZqTl4F.css","assets/useNotification-CkKTeXAr.js","assets/RfqSupplierInvitation-DGJJAaGI.css","assets/RfqLineItemsEditor-Ba7dVP-Y.js","assets/RfqLineItemsEditor-DyZBsakI.css"])))=>i.map(i=>d[i]);
import{h as e,W as t,d as r,u as a,i,c as l,C as s,s as n,b as o,j as u,k as c,f as m,A as p,aO as d,x as f,t as y,z as g,y as q,e as v,F as b,r as h,cx as _,$ as w,a4 as x,P as C,S as D,G as E,E as I,J as N,q as k,o as T,_ as j}from"./index-rw7zlv6S.js";import{E as P,a as S}from"./el-descriptions-item-DIkI8c8h.js";import{E as $}from"./el-text-C9UTNuV-.js";import{E as U,a as M}from"./el-table-column-IKxgbm5V.js";import"./el-scrollbar-D5w1osf_.js";import{E as R}from"./el-tag-cdPnKa4g.js";/* empty css                 */import{E as V,a as A}from"./el-radio-group-C7AQpQOQ.js";import{E as F}from"./el-card-B9-LS32_.js";import{E as z}from"./el-divider-uQWCJzJb.js";import{E as O,a as L}from"./el-step-XKP4A3OS.js";import{E as Y}from"./el-alert-i6ynGj4f.js";import{E as H}from"./el-upload-DJuF9Oq_.js";import"./el-progress-BGTohz0o.js";import{P as B}from"./PageHeader-WE543s7R.js";import{i as G,c as J}from"./rfq-CnIHpe5Y.js";import{a as W,u as X}from"./useNotification-CkKTeXAr.js";import"./_baseClone-CNDyvpdQ.js";import"./castArray-BwqloSa3.js";import"./debounce-ClUD_C4p.js";import"./index-DsA3SOx0.js";import"./cloneDeep-BkK-s6vw.js";const Z={class:"rfq-create-view"},K={class:"prefill-alert-body"},Q={class:"prefill-alert-body"},ee={key:0,style:{"margin-left":"12px",color:"#909399"}},te={class:"step-content"},re={key:0,class:"step-panel"},ae={class:"step-description"},ie={class:"material-type-selection"},le={class:"material-type-content"},se={class:"material-type-content"},ne={key:1,class:"step-panel"},oe={class:"rfq-details-upper"},ue={class:"rfq-details-lower"},ce={key:2,class:"step-panel"},me={class:"step-description"},pe={key:0,style:{"margin-top":"16px"}},de={style:{margin:"8px 0"}},fe={key:3,class:"step-panel"},ye={class:"step-description"},ge={style:{margin:"24px 0 16px 0"}},qe={style:{margin:"32px 0 16px 0"}},ve={key:0},be={style:{margin:"0","white-space":"pre-wrap","word-break":"break-word","font-size":"13px"}},he={class:"step-actions"},_e=j(r({__name:"RfqCreateView",setup(r){const{t:j}=a(),_e=k(),we=n(),xe=X(),Ce=function(){const t=W("http"),r=X(),a=e(0),i=e(!1),l=e(null);return{uploading:i,progress:a,lastError:l,upload:async(e,s)=>{if(!e)throw new Error("File is required for upload");const n=new FormData;n.append(s.fieldName??"file",e),Object.entries(s.extra??{}).forEach(([e,t])=>{null!=t&&n.append(e,String(t))}),i.value=!0,l.value=null,a.value=0;const o=e=>{e.total&&(a.value=Math.round(e.loaded/e.total*100),s.onProgress?.(a.value))};try{let e;if(s.request)e=await s.request(n);else{if(!s.url)throw new Error("Either url or request must be provided");e=await t.request({url:s.url,method:"POST",data:n,silent:s.silent,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o})}return s.successMessage&&r.success(s.successMessage),e}catch(u){const e=s.errorMessage??u?.message??"文件上传失败";throw l.value=e,r.error(e),u}finally{i.value=!1}},reset:()=>{i.value=!1,a.value=0,l.value=null}}}(),De=E(()=>N(()=>import("./RfqForm-zMmcq5Zj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),Ee=E(()=>N(()=>import("./RfqSupplierInvitation-D0zpBt3h.js"),__vite__mapDeps([30,1,2,31,32,33,34,7,8,26,27,35,36,19,12,13,5,4,20,21,9,10,37,38,39,40,29]))),Ie=E(()=>N(()=>import("./RfqLineItemsEditor-Ba7dVP-Y.js"),__vite__mapDeps([41,1,2,19,12,13,5,4,20,21,15,16,17,9,10,11,14,33,34,42,29]))),Ne=e(0),ke=e(!1),Te=e(),je=e(null),Pe=e(null),Se=e(null),$e=e([]),Ue=e(),Me=e(!1),Re=e(""),Ve=i({materialCategoryType:"IDM",lineItems:[],title:"",description:"",rfqType:"short_term",deliveryPeriod:15,projectLocation:"HZ",budgetAmount:void 0,currency:"CNY",validUntil:"",requiredDocuments:[],evaluationCriteria:{},supplierIds:[],externalEmails:[],minSupplierCount:3,supplierExceptionNote:void 0,requestingParty:void 0,requestingDepartment:void 0,requirementDate:void 0,detailedParameters:void 0}),Ae=l(()=>(Ve.supplierIds?.length||0)+(Ve.externalEmails?.length||0));function Fe(e){Object.assign(Ve,e)}async function ze(){if(0===Ne.value){if(!Ve.materialCategoryType)return void xe.warning("请选择物料大类");if("DM"===Ve.materialCategoryType)return void xe.warning("DM物料功能即将上线，请选择IDM物料")}else if(1===Ne.value){if(!(await(Te.value?.validate?.())))return void xe.warning(j("rfq.validation.formIncomplete"));if(!Ve.lineItems||0===Ve.lineItems.length)return void xe.warning("请至少添加一个需求行");for(let e=0;e<Ve.lineItems.length;e++){const t=Ve.lineItems[e];if(!(t.materialCategory&&t.itemName&&t.quantity&&t.unit))return void xe.warning(`第${e+1}行：请填写完整信息（物料类别、物料名称、数量、单位）`)}}else if(2===Ne.value){const e=Ve.minSupplierCount||3,t=Boolean(Ve.supplierExceptionNote&&Ve.supplierExceptionNote.trim());if(Ae.value<e&&!t)return void xe.warning(j("rfq.validation.minSupplierOrException",{count:e}))}Ne.value<3&&(Ne.value+=1)}function Oe(){Ne.value>0&&(Ne.value-=1)}async function Le(){ke.value=!0;try{const r={materialCategoryType:Ve.materialCategoryType,title:Ve.title,description:Ve.description,rfqType:Ve.rfqType,deliveryPeriod:Ve.deliveryPeriod,projectLocation:Ve.projectLocation,budgetAmount:Ve.budgetAmount,currency:Ve.currency,validUntil:Ve.validUntil,requestingParty:Ve.requestingParty,requestingDepartment:Ve.requestingDepartment,requirementDate:Ve.requirementDate,lineItems:Ve.lineItems,supplierIds:Ve.supplierIds,externalEmails:Ve.externalEmails,minSupplierCount:Ve.minSupplierCount,supplierExceptionNote:Ve.supplierExceptionNote,requiredDocuments:Ve.requiredDocuments,evaluationCriteria:Ve.evaluationCriteria},a=await J(r);if(je.value&&Pe.value)try{await async function(e,r,a){await t(`/requisitions/${e}/items/${r}/mark-converted`,{method:"POST",body:{rfq_id:a}})}(je.value,Pe.value,a.id)}catch(e){console.error("Failed to mark requisition item as converted:",e)}xe.success(j("rfq.create.success")),_e.push(`/rfq/${a.id}`)}catch(e){xe.error(e?.message||j("rfq.create.error"))}finally{ke.value=!1}}function Ye(){_e.push("/rfq")}function He(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}async function Be(e){if(!e.raw)return;if(e.size&&e.size>10485760)return void xe.error(j("rfq.import.fileSizeError"));if(!["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12"].includes(e.raw.type)&&!e.name.match(/\.(xlsx?|xlsm)$/i))return void xe.error(j("rfq.import.fileTypeError"));if(Ve.title||Ve.lineItems.length>0)try{await xe.confirm(j("rfq.import.confirmOverwrite"),j("common.confirm"),{type:"warning"})}catch{return void Ue.value?.clearFiles()}try{ke.value=!0;const t=await Ce.upload(e.raw,{request:async e=>(e.append("sheetName","PRBuyer"),e.append("headerRow","15"),G(e)),errorMessage:j("rfq.import.error")});Ve.title=t.title||"",Ve.description=t.description||"",Ve.requestingDepartment=t.requestingDepartment||"",Ve.requirementDate=t.requirementDate||"",Ve.currency=t.currency||"CNY",Ve.budgetAmount=t.budgetAmount||void 0,Ve.lineItems=t.requirements.map((e,r)=>({lineNumber:r+1,materialCategory:"auxiliary_materials",itemName:e.itemName,itemCode:e.itemCode||void 0,quantity:e.quantity,unit:e.unit,estimatedUnitPrice:e.estimatedUnitPrice||void 0,currency:t.currency,remarks:e.notes||void 0})),Me.value=!0,Re.value=t.prNumber,t.recommendedSuppliers&&t.recommendedSuppliers.length>0&&xe.info(j("rfq.import.recommendedSuppliers",{count:t.recommendedSuppliers.length,names:t.recommendedSuppliers.slice(0,3).join(", ")}),void 0,{duration:5e3}),Ne.value=1,xe.success(j("rfq.import.success",{count:t.requirements.length}),void 0,{duration:3e3})}catch(t){console.error("Excel导入失败:",t),xe.error(t.message||j("rfq.import.error"))}finally{ke.value=!1,Ue.value?.clearFiles()}}return s(()=>{!function(e){const t=e.fromRequisition,r="number"==typeof t?t:"string"==typeof t&&t.trim().length?Number(t):NaN,a=e.fromRequisitionItem,i="number"==typeof a?a:"string"==typeof a&&a.trim().length?Number(a):NaN;if(!t||Number.isNaN(r))return;je.value=r,Number.isNaN(i)||(Pe.value=i),Se.value={id:r};const l=[];let s="string"==typeof e.itemType?e.itemType:"";["equipment","consumables","fixtures","molds","blades","hardware"].includes(s)||(s&&l.push(`Unrecognized item type "${s}" from requisition; defaulting to "equipment".`),s="equipment");let n="string"==typeof e.itemSubtype?e.itemSubtype:void 0;"equipment"===s?n&&!["standard","non-standard","non_standard","fixtures","molds","blades"].includes(n)&&(l.push(`Unrecognized equipment subtype "${n}"; using "standard".`),n="standard"):"consumables"===s?n&&["labor_protection","cleaning","office","accessories","production","other"].includes(n)||(n&&l.push(`Unrecognized consumable subtype "${n}"; using "other".`),n="other"):n=void 0;const o=function(e,t){switch(e){case"equipment":return"non-standard"===t||"non_standard"===t?{category:"equipment",subcategory:"non_standard"}:"fixtures"===t||"molds"===t||"blades"===t?{category:"equipment",subcategory:t}:{category:"equipment",subcategory:"standard"};case"fixtures":return{category:"equipment",subcategory:"fixtures"};case"molds":return{category:"equipment",subcategory:"molds"};case"blades":return{category:"equipment",subcategory:"blades"};case"hardware":return{category:"auxiliary_materials",subcategory:"hardware"};case"consumables":switch(t){case"labor_protection":return{category:"auxiliary_materials",subcategory:"labor_protection"};case"cleaning":case"production":return{category:"auxiliary_materials",subcategory:"production_supplies"};case"office":return{category:"auxiliary_materials",subcategory:"office_supplies"};case"accessories":return{category:"auxiliary_materials",subcategory:"accessories"};case"hardware":return{category:"auxiliary_materials",subcategory:"hardware"};default:return{category:"auxiliary_materials",subcategory:"others"}}default:return{category:"auxiliary_materials",subcategory:"others"}}}(s,n);Ve.distributionCategory=o.category,Ve.distributionSubcategory=o.subcategory;const u="string"==typeof e.title?e.title.trim():"";u&&(Ve.title=u);const c="string"==typeof e.description?e.description.trim():"",m="string"==typeof e.specifications?e.specifications.trim():"",p="string"==typeof e.quantity?e.quantity.trim():"",d="string"==typeof e.unit?e.unit.trim():"",f="string"==typeof e.notes?e.notes.trim():"";c&&(Ve.description=c);let y=c;m&&(y+=`\n\n${j("requisition.form.fields.specifications.label")}:\n${m}`),p&&d&&(y+=`\n\n${j("requisition.detail.fields.quantity")}: ${p} ${d}`),f&&(y+=`\n\n${j("requisition.form.fields.notes.label")}:\n${f}`),Ve.detailedParameters=y||void 0;const g="string"==typeof e.budgetAmount?e.budgetAmount.trim():String(e.budgetAmount??"").trim();if(g){const e=Number(g);Number.isFinite(e)?Ve.budgetAmount=e:l.push(`Unable to parse budget amount "${g}"; leaving blank.`)}const q="string"==typeof e.currency?e.currency.trim():"";q&&(Ve.currency=q);const v="string"==typeof e.requestingDepartment?e.requestingDepartment.trim():"";v&&(Ve.requestingDepartment=v);const b="string"==typeof e.requirementDate?e.requirementDate.trim():"";b&&(Ve.requirementDate=b),$e.value=l,Ne.value=Math.max(Ne.value,1),xe.success(j("rfq.create.prefilledFromRequisition"),void 0,{duration:3e3})}(we.query)}),(e,t)=>{const r=p,a=H,i=Y,l=L,s=O,n=z,E=A,N=F,k=R,G=V,J=I,W=U,X=M,we=S,xe=$,Ce=P;return T(),o("div",Z,[u(B,{title:m(j)("rfq.create.title")},{actions:c(()=>[u(a,{ref_key:"excelUploadRef",ref:Ue,action:"#","auto-upload":!1,"on-change":Be,"show-file-list":!1,accept:".xlsx,.xls,.xlsm",style:{display:"inline-block","margin-right":"8px"}},{default:c(()=>[u(r,{type:"success",icon:m(d)},{default:c(()=>[f(y(m(j)("rfq.import.button")),1)]),_:1},8,["icon"])]),_:1},512),u(r,{onClick:Ye},{default:c(()=>[f(y(m(j)("common.back")),1)]),_:1})]),_:1},8,["title"]),u(N,{class:"wizard-card"},{default:c(()=>[Se.value?(T(),g(i,{key:0,class:"prefill-alert",title:m(j)("rfq.create.prefilledFromRequisition"),type:"success","show-icon":"",closable:!1},{default:c(()=>[v("div",K,[v("span",null,y(m(j)("requisition.requisitionNumber"))+" #"+y(Se.value.id),1),u(r,{link:"",type:"primary",size:"small",onClick:t[0]||(t[0]=e=>{return t=Se.value.id,void _e.push({name:"requisition-detail",params:{id:t}});var t})},{default:c(()=>[f(y(m(j)("requisition.list.actions.view")),1)]),_:1})])]),_:1},8,["title"])):q("",!0),Me.value?(T(),g(i,{key:1,class:"prefill-alert",title:m(j)("rfq.import.alertTitle"),type:"success","show-icon":"",closable:"",onClose:t[1]||(t[1]=e=>Me.value=!1)},{default:c(()=>[v("div",Q,[v("span",null,y(m(j)("rfq.import.alertDescription",{count:Ve.lineItems?.length||0})),1),Re.value?(T(),o("span",ee," PR: "+y(Re.value),1)):q("",!0)])]),_:1},8,["title"])):q("",!0),$e.value.length?(T(!0),o(b,{key:2},h($e.value,(e,t)=>(T(),g(i,{key:`prefill-warning-${t}`,class:"prefill-alert warning",type:"warning","show-icon":"",closable:!1},{title:c(()=>[f(y(e),1)]),_:2},1024))),128)):q("",!0),u(s,{active:Ne.value,"align-center":"","finish-status":"success"},{default:c(()=>[u(l,{title:m(j)("rfq.materialType.label"),icon:m(_)},null,8,["title","icon"]),u(l,{title:m(j)("rfq.create.rfqDetails"),icon:m(w)},null,8,["title","icon"]),u(l,{title:m(j)("rfq.create.step4"),icon:m(x)},null,8,["title","icon"]),u(l,{title:m(j)("rfq.create.step5"),icon:m(C)},null,8,["title","icon"])]),_:1},8,["active"]),u(n),v("div",te,[0===Ne.value?(T(),o("div",re,[v("h2",null,y(m(j)("rfq.create.selectMaterialType")),1),v("p",ae,y(m(j)("rfq.create.materialTypeDesc")),1),v("div",ie,[u(G,{modelValue:Ve.materialCategoryType,"onUpdate:modelValue":t[4]||(t[4]=e=>Ve.materialCategoryType=e),size:"large"},{default:c(()=>[u(N,{class:D(["material-type-card",{selected:"IDM"===Ve.materialCategoryType}]),shadow:"hover",onClick:t[2]||(t[2]=e=>Ve.materialCategoryType="IDM")},{default:c(()=>[u(E,{value:"IDM"},{default:c(()=>[v("div",le,[v("h3",null,y(m(j)("rfq.materialType.idm")),1),v("p",null,y(m(j)("rfq.materialType.idmDesc")),1)])]),_:1})]),_:1},8,["class"]),u(N,{class:D(["material-type-card",{selected:"DM"===Ve.materialCategoryType}]),shadow:"hover",onClick:t[3]||(t[3]=e=>Ve.materialCategoryType="DM")},{default:c(()=>[u(E,{value:"DM",disabled:""},{default:c(()=>[v("div",se,[v("h3",null,y(m(j)("rfq.materialType.dm")),1),v("p",null,y(m(j)("rfq.materialType.dmDesc")),1),u(k,{type:"info",size:"small"},{default:c(()=>[...t[9]||(t[9]=[f("即将上线",-1)])]),_:1})])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue"])])])):q("",!0),1===Ne.value?(T(),o("div",ne,[v("h2",null,y(m(j)("rfq.create.rfqDetails")),1),t[11]||(t[11]=v("p",{class:"step-description"},"填写询价单基本信息和需求行明细",-1)),v("div",oe,[t[10]||(t[10]=v("h3",{class:"section-title"},"基本信息",-1)),u(m(De),{ref_key:"rfqFormRef",ref:Te,"model-value":Ve,"onUpdate:modelValue":Fe},null,8,["model-value"])]),u(n),v("div",ue,[u(m(Ie),{modelValue:Ve.lineItems,"onUpdate:modelValue":t[5]||(t[5]=e=>Ve.lineItems=e)},null,8,["modelValue"])])])):q("",!0),2===Ne.value?(T(),o("div",ce,[v("h2",null,y(m(j)("rfq.create.inviteSuppliers")),1),v("p",me,y(m(j)("rfq.create.supplierInvitationDesc")),1),u(m(Ee),{modelValue:Ve.supplierIds,"onUpdate:modelValue":t[6]||(t[6]=e=>Ve.supplierIds=e),"external-emails":Ve.externalEmails,"onUpdate:externalEmails":t[7]||(t[7]=e=>Ve.externalEmails=e)},null,8,["modelValue","external-emails"]),u(i,{title:m(j)("rfq.create.minSupplierNotice",{count:Ve.minSupplierCount||3}),type:"info",closable:!1,style:{"margin-top":"24px"}},null,8,["title"]),Ae.value<(Ve.minSupplierCount||3)?(T(),o("div",pe,[u(i,{title:m(j)("rfq.create.belowMinimum"),type:"warning",closable:!1},{default:c(()=>[v("p",de,y(m(j)("rfq.create.exceptionRequired")),1),u(J,{modelValue:Ve.supplierExceptionNote,"onUpdate:modelValue":t[8]||(t[8]=e=>Ve.supplierExceptionNote=e),type:"textarea",rows:3,placeholder:m(j)("rfq.create.exceptionNotePlaceholder"),maxlength:"500","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["title"])])):q("",!0)])):q("",!0),3===Ne.value?(T(),o("div",fe,[v("h2",null,y(m(j)("rfq.create.reviewSubmit")),1),v("p",ye,y(m(j)("rfq.create.reviewDesc")),1),v("h3",ge,y(m(j)("rfq.lineItems.title"))+" ("+y(Ve.lineItems?.length||0)+" 项) ",1),Ve.lineItems&&Ve.lineItems.length>0?(T(),g(X,{key:0,data:Ve.lineItems,border:""},{default:c(()=>[u(W,{type:"index",label:m(j)("rfq.items.lineNumber"),width:"70"},null,8,["label"]),u(W,{label:m(j)("rfq.lineItems.materialCategory"),width:"120"},{default:c(({row:e})=>[f(y("equipment"===e.materialCategory?m(j)("rfq.distributionCategory.equipment"):"consumables"===e.materialCategory?m(j)("rfq.lineItems.consumables"):"hardware"===e.materialCategory?m(j)("rfq.distributionCategory.hardware"):e.materialCategory||"-"),1)]),_:1},8,["label"]),u(W,{label:m(j)("rfq.lineItems.brand"),width:"100"},{default:c(({row:e})=>[f(y(e.brand||"-"),1)]),_:1},8,["label"]),u(W,{label:m(j)("rfq.items.itemName"),prop:"itemName","min-width":"150"},null,8,["label"]),u(W,{label:m(j)("rfq.lineItems.specifications"),"min-width":"150"},{default:c(({row:e})=>[f(y(e.specifications||"-"),1)]),_:1},8,["label"]),u(W,{label:m(j)("rfq.items.quantity"),width:"120"},{default:c(({row:e})=>[f(y(e.quantity)+" "+y(e.unit),1)]),_:1},8,["label"]),u(W,{label:m(j)("rfq.items.estimatedPrice"),width:"140"},{default:c(({row:e})=>{return[f(y((t=e,t.quantity&&t.estimatedUnitPrice?`${(t.quantity*t.estimatedUnitPrice).toFixed(2)} ${t.currency||"CNY"}`:"-")),1)];var t}),_:1},8,["label"])]),_:1},8,["data"])):q("",!0),v("h3",qe,y(m(j)("rfq.create.rfqDetails")),1),u(Ce,{column:2,border:"",class:"review-section"},{default:c(()=>[u(we,{label:m(j)("rfq.form.title")},{default:c(()=>[f(y(Ve.title),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.rfqType")},{default:c(()=>[u(k,{type:"short_term"===Ve.rfqType?"success":"warning"},{default:c(()=>[f(y(m(j)(`rfq.rfqType.${Ve.rfqType}`)),1)]),_:1},8,["type"])]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.deliveryPeriod")},{default:c(()=>[f(y(Ve.deliveryPeriod)+" "+y(m(j)("common.days")),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.budgetAmount")},{default:c(()=>[f(y(Ve.budgetAmount||"-")+" "+y(Ve.currency),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.validUntil")},{default:c(()=>[f(y(He(Ve.validUntil)),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.requestingParty")},{default:c(()=>[f(y(Ve.requestingParty||"-"),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.requestingDepartment")},{default:c(()=>[f(y(Ve.requestingDepartment||"-"),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.form.requirementDate")},{default:c(()=>[f(y(Ve.requirementDate||"-"),1)]),_:1},8,["label"]),u(we,{label:m(j)("rfq.invitation.selectedCount"),span:2},{default:c(()=>[f(y(Ve.supplierIds?.length||0)+" "+y(m(j)("rfq.invitation.internalSuppliers"))+" ",1),Ve.externalEmails&&Ve.externalEmails.length>0?(T(),o("span",ve," + "+y(Ve.externalEmails.length)+" "+y(m(j)("rfq.invitation.externalSuppliers")),1)):q("",!0)]),_:1},8,["label"]),Ve.supplierExceptionNote?(T(),g(we,{key:0,label:m(j)("rfq.form.supplierExceptionNote"),span:2},{default:c(()=>[u(xe,{type:"warning"},{default:c(()=>[f(y(Ve.supplierExceptionNote),1)]),_:1})]),_:1},8,["label"])):q("",!0),u(we,{label:m(j)("rfq.form.description"),span:2},{default:c(()=>[f(y(Ve.description||"-"),1)]),_:1},8,["label"]),Ve.detailedParameters?(T(),g(we,{key:1,label:m(j)("rfq.form.detailedParameters"),span:2},{default:c(()=>[v("pre",be,y(Ve.detailedParameters),1)]),_:1},8,["label"])):q("",!0)]),_:1})])):q("",!0)]),v("div",he,[Ne.value>0?(T(),g(r,{key:0,onClick:Oe},{default:c(()=>[f(y(m(j)("common.previous")),1)]),_:1})):q("",!0),t[12]||(t[12]=v("div",{style:{flex:"1"}},null,-1)),Ne.value<3?(T(),g(r,{key:1,type:"primary",onClick:ze},{default:c(()=>[f(y(m(j)("common.next")),1)]),_:1})):q("",!0),3===Ne.value?(T(),g(r,{key:2,type:"success",loading:ke.value,onClick:Le},{default:c(()=>[f(y(m(j)("rfq.create.submit")),1)]),_:1},8,["loading"])):q("",!0)])]),_:1})])}}}),[["__scopeId","data-v-8f19a473"]]);export{_e as default};
