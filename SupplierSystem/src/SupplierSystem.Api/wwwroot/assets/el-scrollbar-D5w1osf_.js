import{du as e,cW as t,de as a,dv as l,d1 as r,dw as n,dx as s,dk as o,dy as i,dz as u,dA as c,cV as v,ao as f,au as d,d as m,bh as p,ax as b,cF as h,h as y,c as g,D as w,as as S,aS as z,z as x,o as E,k as _,m as L,e as k,w as H,S as T,f as N,ak as B,aF as C,aA as R,b7 as W,b as j,j as A,F as O,cp as $,bo as M,b6 as F,at as I,B as q,bl as K,i as P,dB as X,C as Y,I as D,cm as V,y as G,aa as J,a5 as Q,ch as U,bm as Z,cc as ee,aH as te}from"./index-rw7zlv6S.js";var ae=/\s/;var le=/^\s+/;function re(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}(e)+1).replace(le,""):e}var ne=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^0o[0-7]+$/i,ie=parseInt;function ue(a){if("number"==typeof a)return a;if(e(a))return NaN;if(t(a)){var l="function"==typeof a.valueOf?a.valueOf():a;a=t(l)?l+"":l}if("string"!=typeof a)return 0===a?a:+a;a=re(a);var r=se.test(a);return r||oe.test(a)?ie(a.slice(2),r?2:8):ne.test(a)?NaN:+a}function ce(e){return e==e&&!t(e)}function ve(e,t){return function(a){return null!=a&&(a[e]===t&&(void 0!==t||e in Object(a)))}}function fe(e){var t=function(e){for(var t=r(e),a=t.length;a--;){var l=t[a],n=e[l];t[a]=[l,n,ce(n)]}return t}(e);return 1==t.length&&t[0][2]?ve(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var s=r.length,o=s;if(null==e)return!o;for(e=Object(e);s--;){var i=r[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<o;){var u=(i=r[s])[0],c=e[u],v=i[1];if(i[2]){if(void 0===c&&!(u in e))return!1}else{var f=new a;if(!l(v,c,3,n,f))return!1}}return!0}(r,0,t)}}function de(e){return n(e)?(t=s(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return u(t,e)}}(e);var t}function me(e){return"function"==typeof e?e:null==e?c:"object"==typeof e?v(e)?(t=e[0],a=e[1],n(t)&&ce(a)?ve(s(t),a):function(e){var r=o(e,t);return void 0===r&&r===a?i(e,t):l(a,r,3)}):fe(e):de(e);var t,a}const pe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},be=Symbol("scrollbarContextKey"),he=f({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean});var ye=d(m({__name:"thumb",props:he,setup(e){const t=e,a=p(be),l=b("scrollbar");a||h("Thumb","can not inject scrollbar context");const r=y(),n=y(),s=y({}),o=y(!1);let i=!1,u=!1,c=0,v=0,f=W?document.onselectstart:null;const d=g(()=>pe[t.vertical?"vertical":"horizontal"]),m=g(()=>(({move:e,size:t,bar:a})=>({[a.size]:t,transform:`translate${a.axis}(${e}%)`}))({size:t.size,move:t.move,bar:d.value})),j=g(()=>r.value[d.value.offset]**2/a.wrapElement[d.value.scrollSize]/t.ratio/n.value[d.value.offset]),A=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),$(e);const a=e.currentTarget;a&&(s.value[d.value.axis]=a[d.value.offset]-(e[d.value.client]-a.getBoundingClientRect()[d.value.direction]))},O=e=>{if(!n.value||!r.value||!a.wrapElement)return;const t=100*(Math.abs(e.target.getBoundingClientRect()[d.value.direction]-e[d.value.client])-n.value[d.value.offset]/2)*j.value/r.value[d.value.offset];a.wrapElement[d.value.scroll]=t*a.wrapElement[d.value.scrollSize]/100},$=e=>{e.stopImmediatePropagation(),i=!0,c=a.wrapElement.scrollHeight,v=a.wrapElement.scrollWidth,document.addEventListener("mousemove",M),document.addEventListener("mouseup",F),f=document.onselectstart,document.onselectstart=()=>!1},M=e=>{if(!r.value||!n.value)return;if(!1===i)return;const t=s.value[d.value.axis];if(!t)return;const l=100*(-1*(r.value.getBoundingClientRect()[d.value.direction]-e[d.value.client])-(n.value[d.value.offset]-t))*j.value/r.value[d.value.offset];"scrollLeft"===d.value.scroll?a.wrapElement[d.value.scroll]=l*v/100:a.wrapElement[d.value.scroll]=l*c/100},F=()=>{i=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",F),I(),u&&(o.value=!1)};w(()=>{I(),document.removeEventListener("mouseup",F)});const I=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return S(z(a,"scrollbarElement"),"mousemove",()=>{u=!1,o.value=!!t.size}),S(z(a,"scrollbarElement"),"mouseleave",()=>{u=!0,o.value=i}),(e,t)=>(E(),x(R,{name:N(l).b("fade"),persisted:""},{default:_(()=>[L(k("div",{ref_key:"instance",ref:r,class:T([N(l).e("bar"),N(l).is(N(d).key)]),onMousedown:O,onClick:H(()=>{},["stop"])},[k("div",{ref_key:"thumb",ref:n,class:T(N(l).e("thumb")),style:B(N(m)),onMousedown:A},null,38)],42,["onClick"]),[[C,e.always||o.value]])]),_:1},8,["name"]))}}),[["__file","thumb.vue"]]);var ge=d(m({__name:"bar",props:f({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(e,{expose:t}){const a=e,l=p(be),r=y(0),n=y(0),s=y(""),o=y(""),i=y(1),u=y(1);return t({handleScroll:e=>{if(e){const t=e.offsetHeight-4,a=e.offsetWidth-4;n.value=100*e.scrollTop/t*i.value,r.value=100*e.scrollLeft/a*u.value}},update:()=>{const e=null==l?void 0:l.wrapElement;if(!e)return;const t=e.offsetHeight-4,r=e.offsetWidth-4,n=t**2/e.scrollHeight,c=r**2/e.scrollWidth,v=Math.max(n,a.minSize),f=Math.max(c,a.minSize);i.value=n/(t-n)/(v/(t-v)),u.value=c/(r-c)/(f/(r-f)),o.value=v+4<t?`${v}px`:"",s.value=f+4<r?`${f}px`:""}}),(e,t)=>(E(),j(O,null,[A(ye,{move:r.value,ratio:u.value,size:s.value,always:e.always},null,8,["move","ratio","size","always"]),A(ye,{move:n.value,ratio:i.value,size:o.value,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const we=f({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:F([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...M(["ariaLabel","ariaOrientation"])}),Se={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every($)},ze="ElScrollbar",xe=m({name:ze});const Ee=te(d(m({...xe,props:we,emits:Se,setup(e,{expose:t,emit:a}){const l=e,r=b("scrollbar");let n,s,o,i=0,u=0,c="";const v={bottom:!1,top:!1,right:!1,left:!1},f=y(),d=y(),m=y(),p=y(),h=g(()=>{const e={};return l.height&&(e.height=I(l.height)),l.maxHeight&&(e.maxHeight=I(l.maxHeight)),[l.wrapStyle,e]}),w=g(()=>[l.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!l.native}]),z=g(()=>[r.e("view"),l.viewClass]),L={top:"bottom",bottom:"top",left:"right",right:"left"},H=()=>{var e;if(d.value){null==(e=p.value)||e.handleScroll(d.value);const t=i,r=u;i=d.value.scrollTop,u=d.value.scrollLeft;const n={bottom:i+d.value.clientHeight>=d.value.scrollHeight-l.distance,top:i<=l.distance&&0!==t,right:u+d.value.clientWidth>=d.value.scrollWidth-l.distance&&r!==u,left:u<=l.distance&&0!==r};if(a("scroll",{scrollTop:i,scrollLeft:u}),t!==i&&(c=i>t?"bottom":"top"),r!==u&&(c=u>r?"right":"left"),l.distance>0){if((e=>{var t;return null!=(t=v[e])&&t})(c))return;(e=>{const t=L[c];if(!t)return;const a=e[c],l=e[t];a&&!v[c]&&(v[c]=!0),!l&&v[t]&&(v[t]=!1)})(n)}n[c]&&a("end-reached",c)}};const C=()=>{var e;null==(e=p.value)||e.update(),v[c]=!1};return q(()=>l.noresize,e=>{e?(null==n||n(),null==s||s(),null==o||o()):(({stop:n}=ee(m,C)),({stop:s}=ee(d,C)),o=S("resize",C))},{immediate:!0}),q(()=>[l.maxHeight,l.height],()=>{l.native||D(()=>{var e;C(),d.value&&(null==(e=p.value)||e.handleScroll(d.value))})}),K(be,P({scrollbarElement:f,wrapElement:d})),X(()=>{d.value&&(d.value.scrollTop=i,d.value.scrollLeft=u)}),Y(()=>{l.native||D(()=>{C()})}),V(()=>C()),t({wrapRef:d,update:C,scrollTo:function(e,t){U(e)?d.value.scrollTo(e):$(e)&&$(t)&&d.value.scrollTo(e,t)},setScrollTop:e=>{$(e)?d.value.scrollTop=e:Z(ze,"value must be a number")},setScrollLeft:e=>{$(e)?d.value.scrollLeft=e:Z(ze,"value must be a number")},handleScroll:H}),(e,t)=>(E(),j("div",{ref_key:"scrollbarRef",ref:f,class:T(N(r).b())},[k("div",{ref_key:"wrapRef",ref:d,class:T(N(w)),style:B(N(h)),tabindex:e.tabindex,onScroll:H},[(E(),x(Q(e.tag),{id:e.id,ref_key:"resizeRef",ref:m,class:T(N(z)),style:B(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:_(()=>[J(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?G("v-if",!0):(E(),x(ge,{key:0,ref_key:"barRef",ref:p,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}),[["__file","scrollbar.vue"]]));export{Ee as E,me as b,Se as s,ue as t};
